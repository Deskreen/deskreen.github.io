{"version":3,"sources":["img/logo.png","components/Settings/styles.module.scss","components/FileTransfer/styles.module.scss","audio/beep.mp3","components/Home/styles.module.scss","i18n/index.js","reducers/app.js","reducers/activities.js","reducers/user.js","reducers/room.js","reducers/index.js","store/index.js","utils/socket.js","utils/crypto.js","api/generator.js","components/Username/index.js","components/Nav/index.js","components/Connecting/index.js","components/About/index.js","components/RoomLink/index.js","components/T/T.js","components/T/index.js","components/Settings/index.js","components/Welcome/index.js","components/RoomLocked/index.js","components/FileTransfer/FileTransfer.js","components/FileTransfer/index.js","utils/index.js","utils/dom.js","components/Chat/Chat.js","actions/app.js","actions/unencrypted_messages.js","utils/message.js","actions/encrypted_messages.js","components/Chat/index.js","components/Message/index.js","components/Notice/index.js","utils/ImageZoom.js","utils/file.js","components/Home/Activity.js","components/Home/ActivityList.js","components/Home/Home.js","utils/notifications.js","components/Home/WithNewMessageNotification.js","components/Home/index.js","root.js","serviceWorker.js","index.js","components/About/styles.module.scss"],"names":["module","exports","styles","__webpack_require__","p","tos","languagesMap","en","fr","oc","de","it","zhCN","nl","getTranslations","_language$split","arguments","length","undefined","split","_language$split2","Object","slicedToArray","lang","variant","hasOwnProperty","concat","language","Cookie","get","navigator","initialState","modalComponent","scrolledToBottom","windowIsFocused","unreadMessageCount","soundIsEnabled","notificationIsEnabled","notificationIsAllowed","socketConnected","translations","app","state","action","type","objectSpread","payload","items","activities","toConsumableArray","newUserId","id","room","members","find","m","userId","username","locked","sender","message","currentUsername","newUsername","map","item","includes","privateKey","publicKey","user","n","isLocked","memberPubKeys","filter","member","thisMember","mem","isOwner","_","uniqBy","users","Boolean","reduce","acc","exists","newUsername2","userId2","appReducer","combineReducers","rootReducer","composeEnhancers","compose","enabledMiddlewares","thunk","middlewares","applyMiddleware","apply","socket","Crypto","classCallCheck","this","_crypto","window","crypto","subtle","webkitSubtle","str","bytes","Uint8Array","i","charCodeAt","buffer","byteLength","String","fromCharCode","generateKey","name","modulusLength","publicExponent","hash","data","secretKey","iv","encrypt","decrypt","jwkData","format","ops","importKey","key","exportKey","keyToSignWith","sign","signature","keyToVerifyWith","verify","keyToWrap","keyToWrapWith","wrapKey","wrappedKey","unwrappingKey","unwrapAlgo","unwrappedKeyAlgo","extractable","keyUsages","unwrapKey","generator","host","resourcePath","connect","roomId","socketIO","generateUrl","query","forceNew","getSocket","Username","react_default","a","createElement","className","style","color","randomColor","seed","props","luminosity","Component","Nav","Clipboard","on","$","tooltip","setTimeout","trigger","collapse","open","shortId","generate","openModal","iAmOwner","toggleLockRoom","_this","src","logoImg","alt","data-toggle","data-placement","title","copyButtonTooltip","data-clipboard-text","location","origin","onClick","handleToggleLock","bind","roomLocked","dist","dropdown_default","dropdown","index","components_Username","data-target","aria-controls","aria-expanded","aria-label","newRoom","target","newRoomButton","handleSettingsClick","settingsButton","handleAboutClick","aboutButton","Connecting","About","possibleConstructorReturn","getPrototypeOf","call","abuseReported","evt","setState","value","preventDefault","fetch","apiUrlGenerator","method","base","links","href","process","REACT_APP_COMMIT_SHA","rel","onSubmit","handleReportAbuse","placeholder","onChange","handleUpdateRoomId","border","width","height","RoomLink","roomUrl","readOnly","regex","T","t","englishT","string","path","word","ownProps","Settings","toggleSoundEnabled","Notification","requestPermission","then","permission","toggleNotificationEnabled","toggleNotificationAllowed","set","setLanguage","components_T","htmlFor","handleSoundToggle","checked","Fragment","handleNotificationToggle","disabled","components_RoomLink","handleLanguageChange","Welcome","close","welcomeModalCTA","RoomLocked","modalContent","VALID_FILE_TYPES","MAX_FILE_SIZE","REACT_APP_MAX_FILE_SIZE","encodeFile","file","Promise","resolve","reject","reader","FileReader","onload","readerEvent","btoa","result","readAsBinaryString","FileTransfer","_ref","sendEncryptedMessage","fileInput","React","useRef","supported","useMemo","File","FileList","Blob","atob","URL","useEffect","currentFileInput","current","isMounted","handleFileTransfer","_ref2","asyncToGenerator","regenerator_default","mark","_callee","event","fileType","fileName","fileExtension","fileId","fileData","wrap","_context","prev","next","files","replace","pop","toLowerCase","indexOf","alert","abrupt","size","uuid","v4","t0","t1","t2","t3","t4","sent","encodedFile","timestamp","Date","now","stop","_x","addEventListener","removeEventListener","ref","hasTouchSupport","DocumentTouch","document","Chat","_Component","touchSupport","shiftKeyDown","commands","command","description","paramaters","usage","scope","params","join","errors","trim","push","toString","match","showNotice","level","validCommands","sort","actionMessage","clearActivities","inherits","createClass","_this2","textInput","scrollToBottom","nextProps","focusChat","text","getSelection","selection","createRange","getSelectedText","nextState","e","canSend","sendMessage","commandToExecute","cmnd","focus","commandTrigger","charAt","parsedCommand","sanitizeHtml","isCommand","parseCommand","executeCommand","_this3","handleFormSubmit","rows","onKeyUp","handleKeyUp","onKeyDown","handleKeyPress","input","autoFocus","typePlaceholder","handleInputChange","components_FileTransfer","handleSendClick","_ref4","_callee4","dispatch","_context4","_x4","_ref5","_callee5","_context5","_x5","receiveUserEnter","receiveToggleLockRoom","getState","lockedByUser","lockedByUsername","lockedByUserId","receiveUserExit","payloadPublicKeys","exitingUser","sendToggleLockRoom","emit","res","_callee2","privateKeyJson","sessionKey","signingKey","payloadBuffer","decryptedPayload","payloadJson","_context2","importEncryptDecryptKey","convertStringToArrayBufferView","resolvePayload","keys","forEach","_x3","verifyPayload","decryptMessage","JSON","parse","convertArrayBufferViewToString","_x2","prepare","_ref3","myUsername","myId","jsonToSend","encryptedPayload","payloadString","encryptedKeys","ivString","signatureString","createSecretKey","createSigningKey","getRandomValues","encodeURI","stringify","encryptMessage","signMessage","all","_callee3","enc","_context3","toSend","original","msg","prepareMessage","mapDispatchToProps","_ref8","_callee8","_context8","_x8","Message","decodeURI","moment","Linkify_default","properties","Notice","classNames","info","warning","danger","children","defaultProps","Zoom","domContent","OFFSET","offset","element","rect","getBoundingClientRect","top","body","scrollTop","left","scrollLeft","vanillaZoom","fullHeight","fullWidth","overlay","imgScaleFactor","targetImage","targetImageWrap","targetImageClone","zoomImage","img","Number","position","cloneNode","visibility","offsetWidth","parentNode","replaceChild","appendChild","classList","add","setAttribute","originalFullImageWidth","originalFullImageHeight","maxScaleFactor","viewportHeight","innerHeight","viewportWidth","innerWidth","imageAspectRatio","viewportAspectRatio","calculateZoom","imageOffset","viewportY","scrollY","viewportX","imageCenterY","imageCenterX","translateY","translateX","targetImageTransform","targetImageWrapTransform","webkitTransform","msTransform","transform","triggerAnimation","currentSrc","remove","dispose","removeChild","activeZoom","initialScrollPosition","initialTouchPosition","openInNewWindow","getAttribute","closeActiveZoom","options","forceDispose","handleScroll","handleEscPressed","handleClick","handleTouchStart","deltaY","Math","abs","keyCode","stopPropagation","touches","pageY","handleTouchMove","listen","tagName","contains","metaKey","ctrlKey","zoom","zoomListener","getObjectUrl","b64","unescape","byteCharacters","byteArrays","slice","byteNumbers","Array","byteArray","blob","createObjectURL","FileDisplay","_ref$activity","activity","zoomableImage","onLoad","Activity","components_Message","components_Notice","oldUsername","downloadUrl","download","filename","Activity_FileDisplay","url","ActivityList","_React$useState","useState","_React$useState2","setFocusChat","_React$useState3","_React$useState4","setScrolledToBottom","messageStream","activitiesList","currentMessageStream","onScroll","messageStreamHeight","clientHeight","activitiesListHeight","bodyRect","scrollToBottomIfShould","useCallback","scrollHeight","defer","data-testid","Home_Activity","components_Chat","Modal","setAppElement","Home","createUser","connectSocket","toggleSocketConnected","initApp","receiveUnencryptedMessage","receiveEncryptedMessage","bindEvents","component","Connecting_Connecting","preventClose","components_About","aboutHeader","components_Settings","settingsHeader","components_Welcome","closeModal","welcomeHeader","RoomLocked_RoomLocked","lockedRoomHeader","onfocus","toggleWindowFocus","onblur","encryptDecryptKeys","exportedEncryptDecryptPrivateKey","exportedEncryptDecryptPublicKey","createEncryptDecryptKeys","_this4","modalOpts","getModal","components_Nav","sendUnencryptedMessage","Home_ActivityList","react_modal_lib_default","isOpen","contentLabel","zIndex","afterOpen","beforeClose","overlayClassName","shouldCloseOnOverlayClick","onRequestClose","preloadedState","showNotification","avatarUrl","notification","tag","silent","onclick","handleVisibilityChange","visibilityState","notify","content","beep","Audio","beepFile","play","mapStateToProps","processMessage","_ref7","_callee7","_context7","_x7","_ref6","_callee6","_context6","_x6","_ref9","_callee9","_context9","_x9","WithNewMessageNotification","WrappedComponent","WithNotificationHOC","_getPrototypeOf2","_len","args","_key","lastMessage","_this$props","rest","motificationIsAllowed","toggleNotificationnEnabled","objectWithoutProperties","prevState","Tinycon","setBubble","me","faviconCount","store","createStore","reducers","Root","es","react_router_dom","react_router","exact","render","to","hostname","ReactDOM","root_Root","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.401772f5.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"styles\":\"styles_styles__1IUA8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"styles\":\"styles_styles__1IKgH\"};","module.exports = __webpack_public_path__ + \"static/media/beep.82901651.mp3\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"styles\":\"styles_styles__2zKhB\",\"tos\":\"styles_tos__3DhBR\"};","import en from './en';\nimport fr from './fr';\nimport oc from './oc';\nimport de from './de';\nimport it from './it';\nimport zhCN from './zh-CN';\nimport nl from './nl';\n\nconst languagesMap = {\n  en,\n  fr,\n  oc,\n  de,\n  it,\n  zhCN,\n  nl,\n};\n\n/**\n * Return best match for lang and variant.\n * @param {string} language string from navigator configuration or cookie.\n * @returns the translation dict\n */\nexport function getTranslations(language = '') {\n  const [lang, variant] = language.split('-');\n\n  if (languagesMap.hasOwnProperty(`${lang}${variant}`)) {\n    return languagesMap[`${lang}${variant}`];\n  }\n\n  if (languagesMap.hasOwnProperty(lang)) {\n    return languagesMap[lang];\n  }\n\n  return languagesMap['en'];\n}\n","import Cookie from 'js-cookie';\nimport { getTranslations } from 'i18n';\n\nconst language = Cookie.get('language') || navigator.language || 'en';\n\nconst initialState = {\n  modalComponent: null,\n  scrolledToBottom: true,\n  windowIsFocused: true,\n  unreadMessageCount: 0,\n  soundIsEnabled: true,\n  notificationIsEnabled: false,\n  notificationIsAllowed: null,\n  socketConnected: false,\n  language,\n  translations: getTranslations(language),\n};\n\nconst app = (state = initialState, action) => {\n  switch (action.type) {\n    case 'OPEN_MODAL':\n      return {\n        ...state,\n        modalComponent: action.payload,\n      };\n    case 'CLOSE_MODAL':\n      return {\n        ...state,\n        modalComponent: null,\n      };\n    case 'SET_SCROLLED_TO_BOTTOM':\n      return {\n        ...state,\n        scrolledToBottom: action.payload,\n      };\n    case 'TOGGLE_WINDOW_FOCUS':\n      return {\n        ...state,\n        windowIsFocused: action.payload,\n        unreadMessageCount: 0,\n      };\n    case 'RECEIVE_ENCRYPTED_MESSAGE_TEXT_MESSAGE':\n      return {\n        ...state,\n        unreadMessageCount: state.windowIsFocused ? 0 : state.unreadMessageCount + 1,\n      };\n    case 'TOGGLE_SOUND_ENABLED':\n      return {\n        ...state,\n        soundIsEnabled: action.payload,\n      };\n    case 'TOGGLE_NOTIFICATION_ENABLED':\n      return {\n        ...state,\n        notificationIsEnabled: action.payload,\n      };\n    case 'TOGGLE_NOTIFICATION_ALLOWED':\n      return {\n        ...state,\n        notificationIsAllowed: action.payload,\n      };\n    case 'TOGGLE_SOCKET_CONNECTED':\n      return {\n        ...state,\n        socketConnected: action.payload,\n      };\n    case 'CHANGE_LANGUAGE':\n      return {\n        ...state,\n        language: action.payload,\n        translations: getTranslations(action.payload),\n      };\n    default:\n      return state;\n  }\n};\n\nexport default app;\n","const initialState = {\n  items: [],\n};\n\nconst activities = (state = initialState, action) => {\n  switch (action.type) {\n    case 'CLEAR_ACTIVITIES':\n      return {\n        ...state,\n        items: [],\n      };\n    case 'SEND_ENCRYPTED_MESSAGE_SLASH_COMMAND':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            ...action.payload,\n            type: 'SLASH_COMMAND',\n          },\n        ],\n      };\n    case 'SEND_ENCRYPTED_MESSAGE_FILE_TRANSFER':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            ...action.payload,\n            type: 'FILE',\n          },\n        ],\n      };\n    case 'SEND_ENCRYPTED_MESSAGE_TEXT_MESSAGE':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            ...action.payload,\n            type: 'TEXT_MESSAGE',\n          },\n        ],\n      };\n    case 'RECEIVE_ENCRYPTED_MESSAGE_TEXT_MESSAGE':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            ...action.payload.payload,\n            type: 'TEXT_MESSAGE',\n          },\n        ],\n      };\n    case 'SEND_ENCRYPTED_MESSAGE_SEND_FILE':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            ...action.payload,\n            type: 'SEND_FILE',\n          },\n        ],\n      };\n    case 'RECEIVE_ENCRYPTED_MESSAGE_SEND_FILE':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            ...action.payload.payload,\n            type: 'RECEIVE_FILE',\n          },\n        ],\n      };\n    case 'RECEIVE_ENCRYPTED_MESSAGE_ADD_USER':\n      const newUserId = action.payload.payload.id;\n\n      const haveUser = action.payload.state.room.members.find(m => m.id === newUserId);\n      if (haveUser) {\n        return state;\n      }\n\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            userId: newUserId,\n            type: 'USER_ENTER',\n            username: action.payload.payload.username,\n          },\n        ],\n      };\n    case 'USER_EXIT':\n      if (!action.payload.id) {\n        return state;\n      }\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            userId: action.payload.id,\n            type: 'USER_EXIT',\n            username: action.payload.username,\n          },\n        ],\n      };\n    case 'TOGGLE_LOCK_ROOM':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            username: action.payload.username,\n            userId: action.payload.id,\n            type: 'TOGGLE_LOCK_ROOM',\n            locked: action.payload.locked,\n            sender: action.payload.sender,\n          },\n        ],\n      };\n    case 'RECEIVE_TOGGLE_LOCK_ROOM':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            username: action.payload.username,\n            userId: action.payload.id,\n            type: 'TOGGLE_LOCK_ROOM',\n            locked: action.payload.locked,\n            sender: action.payload.sender,\n          },\n        ],\n      };\n    case 'SHOW_NOTICE':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            type: 'NOTICE',\n            message: action.payload.message,\n          },\n        ],\n      };\n    case 'SEND_ENCRYPTED_MESSAGE_CHANGE_USERNAME':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            type: 'CHANGE_USERNAME',\n            currentUsername: action.payload.currentUsername,\n            newUsername: action.payload.newUsername,\n          },\n        ].map(item => {\n          if (item.sender === action.payload.sender && item.type !== 'CHANGE_USERNAME') {\n            return {\n              ...item,\n              username: action.payload.newUsername,\n            };\n          }\n          return item;\n        }),\n      };\n    case 'RECEIVE_ENCRYPTED_MESSAGE_CHANGE_USERNAME':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            type: 'CHANGE_USERNAME',\n            currentUsername: action.payload.payload.currentUsername,\n            newUsername: action.payload.payload.newUsername,\n          },\n        ].map(item => {\n          if (['TEXT_MESSAGE', 'USER_ACTION'].includes(item.type) && item.sender === action.payload.payload.sender) {\n            return {\n              ...item,\n              username: action.payload.payload.newUsername,\n            };\n          }\n          return item;\n        }),\n      };\n    case 'SEND_ENCRYPTED_MESSAGE_USER_ACTION':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            type: 'USER_ACTION',\n            ...action.payload,\n          },\n        ],\n      };\n    case 'RECEIVE_ENCRYPTED_MESSAGE_USER_ACTION':\n      return {\n        ...state,\n        items: [\n          ...state.items,\n          {\n            type: 'USER_ACTION',\n            ...action.payload.payload,\n          },\n        ],\n      };\n    default:\n      return state;\n  }\n};\n\nexport default activities;\n","const initialState = {\n  privateKey: {},\n  publicKey: {},\n  username: '',\n  id: '',\n};\n\nconst user = (state = initialState, action) => {\n  switch (action.type) {\n    case 'CREATE_USER':\n      return {\n        ...action.payload,\n        id: action.payload.publicKey.n,\n      };\n    case 'SEND_ENCRYPTED_MESSAGE_CHANGE_USERNAME':\n      return {\n        ...state,\n        username: action.payload.newUsername,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default user;\n","import _ from 'lodash';\n\nconst initialState = {\n  members: [\n    // {\n    //   username,\n    //   publicKey\n    // }\n  ],\n  id: '',\n  isLocked: false,\n};\n\nconst room = (state = initialState, action) => {\n  switch (action.type) {\n    case 'USER_EXIT':\n      const memberPubKeys = action.payload.members.map(m => m.publicKey.n);\n      return {\n        ...state,\n        members: state.members\n          .filter(member => memberPubKeys.includes(member.publicKey.n))\n          .map(member => {\n            const thisMember = action.payload.members.find(mem => mem.publicKey.n === member.id);\n            if (thisMember) {\n              return {\n                ...member,\n                isOwner: thisMember.isOwner,\n              };\n            }\n            return { ...member };\n          }),\n      };\n    case 'RECEIVE_ENCRYPTED_MESSAGE_ADD_USER':\n      return {\n        ...state,\n        members: state.members.map(member => {\n          if (member.publicKey.n === action.payload.payload.publicKey.n) {\n            return {\n              ...member,\n              username: action.payload.payload.username,\n              isOwner: action.payload.payload.isOwner,\n              id: action.payload.payload.publicKey.n,\n            };\n          }\n          return member;\n        }),\n      };\n    case 'CREATE_USER':\n      return {\n        ...state,\n        members: [\n          ...state.members,\n          {\n            username: action.payload.username,\n            publicKey: action.payload.publicKey,\n            id: action.payload.publicKey.n,\n          },\n        ],\n      };\n    case 'USER_ENTER':\n      const members = _.uniqBy(action.payload.users, member => member.publicKey.n);\n\n      return {\n        ...state,\n        id: action.payload.id,\n        isLocked: Boolean(action.payload.isLocked),\n        members: members.reduce((acc, user) => {\n          const exists = state.members.find(m => m.publicKey.n === user.publicKey.n);\n          if (exists) {\n            return [\n              ...acc,\n              {\n                ...user,\n                ...exists,\n              },\n            ];\n          }\n          return [\n            ...acc,\n            {\n              publicKey: user.publicKey,\n              isOwner: user.isOwner,\n              id: user.id,\n            },\n          ];\n        }, []),\n      };\n    case 'TOGGLE_LOCK_ROOM':\n      return {\n        ...state,\n        isLocked: !state.isLocked,\n      };\n    case 'RECEIVE_TOGGLE_LOCK_ROOM':\n      return {\n        ...state,\n        isLocked: action.payload.locked,\n      };\n    case 'SEND_ENCRYPTED_MESSAGE_CHANGE_USERNAME':\n      const newUsername = action.payload.newUsername;\n      const userId = action.payload.id;\n      return {\n        ...state,\n        members: state.members.map(member =>\n          member.id === userId\n            ? {\n                ...member,\n                username: newUsername,\n              }\n            : member,\n        ),\n      };\n    case 'RECEIVE_ENCRYPTED_MESSAGE_CHANGE_USERNAME':\n      const newUsername2 = action.payload.payload.newUsername;\n      const userId2 = action.payload.payload.id;\n      return {\n        ...state,\n        members: state.members.map(member =>\n          member.id === userId2\n            ? {\n                ...member,\n                username: newUsername2,\n              }\n            : member,\n        ),\n      };\n    default:\n      return state;\n  }\n};\n\nexport default room;\n","/* istanbul ignore file */\nimport { combineReducers } from 'redux';\nimport app from './app';\nimport activities from './activities';\nimport user from './user';\nimport room from './room';\n\nconst appReducer = combineReducers({\n  app,\n  user,\n  room,\n  activities,\n});\n\nconst rootReducer = (state, action) => appReducer(state, action);\n\nexport default rootReducer;\n","/* istanbul ignore file */\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reducers from 'reducers';\nimport thunk from 'redux-thunk';\n\nconst composeEnhancers =\n  process.env.NODE_ENV === 'production' ? compose : window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst enabledMiddlewares = [thunk];\n\nconst middlewares = applyMiddleware(...enabledMiddlewares);\n\nexport default function configureStore(preloadedState) {\n  const store = createStore(reducers, preloadedState, composeEnhancers(middlewares));\n\n  if (module.hot) {\n    module.hot.accept('../reducers', () => {\n      // eslint-disable-next-line global-require\n      const nextRootReducer = require('../reducers/index');\n      store.replaceReducer(nextRootReducer);\n    });\n  }\n\n  return store;\n}\n","import socketIO from 'socket.io-client';\nimport generateUrl from '../api/generator';\n\nlet socket;\n\nexport const connect = roomId => {\n  socket = socketIO(generateUrl(), {\n    query: {\n      roomId,\n    },\n    forceNew: true,\n  });\n  return socket;\n};\n\nexport const getSocket = () => socket;\n","export default class Crypto {\n  constructor() {\n    this._crypto = window.crypto || false;\n\n    if (!this._crypto || (!this._crypto.subtle && !this._crypto.webkitSubtle)) {\n      return false;\n    }\n  }\n\n  get crypto() {\n    return this._crypto;\n  }\n\n  convertStringToArrayBufferView(str) {\n    const bytes = new Uint8Array(str.length);\n    for (let i = 0; i < str.length; i++) {\n      bytes[i] = str.charCodeAt(i);\n    }\n\n    return bytes;\n  }\n\n  convertArrayBufferViewToString(buffer) {\n    let str = '';\n    for (let i = 0; i < buffer.byteLength; i++) {\n      str += String.fromCharCode(buffer[i]);\n    }\n\n    return str;\n  }\n\n  createEncryptDecryptKeys() {\n    return this.crypto.subtle.generateKey(\n      {\n        name: 'RSA-OAEP',\n        modulusLength: 2048, // can be 1024, 2048, or 4096\n        publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n        hash: { name: 'SHA-1' },\n      },\n      true, // whether the key is extractable (i.e. can be used in exportKey)\n      ['encrypt', 'decrypt', 'wrapKey', 'unwrapKey'], // must be ['encrypt', 'decrypt'] or ['wrapKey', 'unwrapKey']\n    );\n  }\n\n  createSecretKey() {\n    return this.crypto.subtle.generateKey(\n      {\n        name: 'AES-CBC',\n        length: 256, // can be  128, 192, or 256\n      },\n      true, // whether the key is extractable (i.e. can be used in exportKey)\n      ['encrypt', 'decrypt'], // can be 'encrypt', 'decrypt', 'wrapKey', or 'unwrapKey'\n    );\n  }\n\n  createSigningKey() {\n    return this.crypto.subtle.generateKey(\n      {\n        name: 'HMAC',\n        hash: { name: 'SHA-256' },\n      },\n      true, // whether the key is extractable (i.e. can be used in exportKey)\n      ['sign', 'verify'], // can be 'encrypt', 'decrypt', 'wrapKey', or 'unwrapKey'\n    );\n  }\n\n  encryptMessage(data, secretKey, iv) {\n    return this.crypto.subtle.encrypt(\n      {\n        name: 'AES-CBC',\n        // Don't re-use initialization vectors!\n        // Always generate a new iv every time your encrypt!\n        iv,\n      },\n      secretKey, // from generateKey or importKey above\n      data, // ArrayBuffer of data you want to encrypt\n    );\n  }\n\n  decryptMessage(data, secretKey, iv) {\n    return this.crypto.subtle.decrypt(\n      {\n        name: 'AES-CBC',\n        iv, // The initialization vector you used to encrypt\n      },\n      secretKey, // from generateKey or importKey above\n      data, // ArrayBuffer of the data\n    );\n  }\n\n  importEncryptDecryptKey(jwkData, format = 'jwk', ops) {\n    const hashObj = {\n      name: 'RSA-OAEP',\n      hash: { name: 'SHA-1' },\n    };\n\n    return this.crypto.subtle.importKey(\n      format, // can be 'jwk' (public or private), 'spki' (public only), or 'pkcs8' (private only)\n      jwkData,\n      hashObj,\n      true, // whether the key is extractable (i.e. can be used in exportKey)\n      ops || ['encrypt', 'wrapKey'], // 'encrypt' or 'wrapKey' for public key import or\n      // 'decrypt' or 'unwrapKey' for private key imports\n    );\n  }\n\n  exportKey(key, format) {\n    return this.crypto.subtle.exportKey(\n      format || 'jwk', // can be 'jwk' (public or private), 'spki' (public only), or 'pkcs8' (private only)\n      key, // can be a publicKey or privateKey, as long as extractable was true\n    );\n  }\n\n  signMessage(data, keyToSignWith) {\n    return this.crypto.subtle.sign(\n      {\n        name: 'HMAC',\n        hash: { name: 'SHA-256' },\n      },\n      keyToSignWith, // from generateKey or importKey above\n      data, // ArrayBuffer of data you want to sign\n    );\n  }\n\n  verifyPayload(signature, data, keyToVerifyWith) {\n    // Will verify with sender's public key\n    return this.crypto.subtle.verify(\n      {\n        name: 'HMAC',\n        hash: { name: 'SHA-256' },\n      },\n      keyToVerifyWith, // from generateKey or importKey above\n      signature, // ArrayBuffer of the signature\n      data, // ArrayBuffer of the data\n    );\n  }\n\n  wrapKey(keyToWrap, keyToWrapWith, format = 'jwk') {\n    return this.crypto.subtle.wrapKey(format, keyToWrap, keyToWrapWith, {\n      name: 'RSA-OAEP',\n      hash: { name: 'SHA-1' },\n    });\n  }\n\n  unwrapKey(\n    format = 'jwk',\n    wrappedKey,\n    unwrappingKey,\n    unwrapAlgo,\n    unwrappedKeyAlgo, // AES-CBC for session, HMAC for signing\n    extractable = true,\n    keyUsages, // verify for signing // decrypt for session\n  ) {\n    return this.crypto.subtle.unwrapKey(\n      format,\n      wrappedKey,\n      unwrappingKey,\n      unwrapAlgo,\n      unwrappedKeyAlgo,\n      extractable,\n      keyUsages,\n    );\n  }\n}\n","/* istanbul ignore file */\n// import config from './config';\n\nexport default (resourceName = '') => {\n  // const { port, protocol, host } = config;\n\n  const host = '192.168.31.214';\n  const protocol = 'http';\n  const port = 3001;\n\n  const resourcePath = resourceName;\n\n  if (!host) {\n    return `/${resourcePath}`;\n  }\n\n  return `${protocol}://${host}:${port}/${resourcePath}`;\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport randomColor from 'randomcolor';\n\nclass Username extends Component {\n  render() {\n    return (\n      <span className=\"username\" style={{ color: randomColor({ seed: this.props.username, luminosity: 'light' }) }}>\n        {this.props.username}\n      </span>\n    );\n  }\n}\n\nUsername.propTypes = {\n  username: PropTypes.string.isRequired,\n};\n\nexport default Username;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport shortId from 'shortid';\nimport { Info, Settings, PlusCircle, User, Users, Lock, Unlock, Star } from 'react-feather';\nimport logoImg from 'img/logo.png';\nimport Dropdown, { DropdownTrigger, DropdownContent } from 'react-simple-dropdown';\nimport Username from 'components/Username';\nimport Clipboard from 'clipboard';\nimport $ from 'jquery';\n\nclass Nav extends Component {\n  componentDidMount() {\n    const clip = new Clipboard('.clipboard-trigger');\n\n    clip.on('success', () => {\n      $('.room-id').tooltip('show');\n      setTimeout(() => {\n        $('.room-id').tooltip('hide');\n      }, 3000);\n    });\n\n    $(() => {\n      $('.room-id').tooltip({\n        trigger: 'manual',\n      });\n      $('.lock-room').tooltip({\n        trigger: 'manual',\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    $(() => {\n      $('.me-icon-wrap').tooltip();\n      $('.owner-icon-wrap').tooltip();\n    });\n  }\n\n  newRoom() {\n    $('.navbar-collapse').collapse('hide');\n    window.open(`/${shortId.generate()}`);\n  }\n\n  handleSettingsClick() {\n    $('.navbar-collapse').collapse('hide');\n    this.props.openModal('Settings');\n  }\n\n  handleAboutClick() {\n    $('.navbar-collapse').collapse('hide');\n    this.props.openModal('About');\n  }\n\n  handleToggleLock() {\n    if (!this.props.iAmOwner) {\n      $('.lock-room').tooltip('show');\n      setTimeout(() => $('.lock-room').tooltip('hide'), 3000);\n      return;\n    }\n    this.props.toggleLockRoom();\n  }\n\n  render() {\n    return (\n      <nav className=\"navbar navbar-expand-md navbar-dark\">\n        <div className=\"meta\">\n          <img src={logoImg} alt=\"Darkwire\" className=\"logo\" />\n\n          <button\n            data-toggle=\"tooltip\"\n            data-placement=\"bottom\"\n            title={this.props.translations.copyButtonTooltip}\n            data-clipboard-text={`${window.location.origin}/${this.props.roomId}`}\n            className=\"btn btn-plain btn-link clipboard-trigger room-id ellipsis\"\n          >\n            {`/${this.props.roomId}`}\n          </button>\n\n          <span className=\"lock-room-container\">\n            <button\n              onClick={this.handleToggleLock.bind(this)}\n              className=\"lock-room btn btn-link btn-plain\"\n              data-toggle=\"tooltip\"\n              data-placement=\"bottom\"\n              title=\"You must be the owner to lock or unlock the room\"\n            >\n              {this.props.roomLocked && <Lock />}\n              {!this.props.roomLocked && <Unlock className=\"muted\" />}\n            </button>\n          </span>\n\n          <Dropdown className=\"members-dropdown\">\n            <DropdownTrigger>\n              <button className=\"btn btn-link btn-plain members-action\" title=\"Users\">\n                <Users className=\"users-icon\" />\n              </button>\n              <span>{this.props.members.length}</span>\n            </DropdownTrigger>\n            <DropdownContent>\n              <ul className=\"plain\">\n                {this.props.members.map((member, index) => (\n                  <li key={`user-${index}`}>\n                    <Username username={member.username} />\n                    <span className=\"icon-container\">\n                      {member.id === this.props.userId && (\n                        <span data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Me\" className=\"me-icon-wrap\">\n                          <User className=\"me-icon\" />\n                        </span>\n                      )}\n                      {member.isOwner && (\n                        <span data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Owner\" className=\"owner-icon-wrap\">\n                          <Star className=\"owner-icon\" />\n                        </span>\n                      )}\n                    </span>\n                  </li>\n                ))}\n              </ul>\n            </DropdownContent>\n          </Dropdown>\n        </div>\n\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-toggle=\"collapse\"\n          data-target=\"#navbarSupportedContent\"\n          aria-controls=\"navbarSupportedContent\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\" />\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n          <ul className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <button className=\"btn btn-plain nav-link\" onClick={this.newRoom.bind(this)} target=\"blank\">\n                <PlusCircle /> <span>{this.props.translations.newRoomButton}</span>\n              </button>\n            </li>\n            <li\n              className=\"\n            nav-item\"\n            >\n              <button onClick={this.handleSettingsClick.bind(this)} className=\"btn btn-plain nav-link\">\n                <Settings /> <span>{this.props.translations.settingsButton}</span>\n              </button>\n            </li>\n            <li className=\"nav-item\">\n              <button onClick={this.handleAboutClick.bind(this)} className=\"btn btn-plain nav-link\">\n                <Info /> <span>{this.props.translations.aboutButton}</span>\n              </button>\n            </li>\n          </ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\nNav.propTypes = {\n  members: PropTypes.array.isRequired,\n  roomId: PropTypes.string.isRequired,\n  userId: PropTypes.string.isRequired,\n  roomLocked: PropTypes.bool.isRequired,\n  toggleLockRoom: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n  iAmOwner: PropTypes.bool.isRequired,\n  translations: PropTypes.object.isRequired,\n};\n\nexport default Nav;\n","import React, { Component } from 'react';\n\nexport default class Connecting extends Component {\n  render() {\n    return <div>Please wait while we secure a connection to Darkwire...</div>;\n  }\n}\n","/* eslint-disable */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport apiUrlGenerator from '../../api/generator';\nimport styles from './styles.module.scss';\n\nclass About extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      roomId: props.roomId,\n      abuseReported: false,\n    };\n  }\n\n  handleUpdateRoomId(evt) {\n    this.setState({\n      roomId: evt.target.value,\n    });\n  }\n\n  handleReportAbuse(evt) {\n    evt.preventDefault();\n    fetch(`${apiUrlGenerator('abuse')}/${this.state.roomId}`, {\n      method: 'POST',\n    });\n    this.setState({\n      abuseReported: true,\n    });\n  }\n\n  render() {\n    return (\n      <div className={styles.base}>\n        <div className={styles.links}>\n          <div>\n            <a href=\"#version\">Version</a>\n          </div>\n          <div>\n            <a href=\"#software\">Software</a>\n          </div>\n          <div>\n            <a href=\"#report-abuse\">Report Abuse</a>\n          </div>\n          <div>\n            <a href=\"#acceptable-use\">Acceptable Use Policy</a>\n          </div>\n          <div>\n            <a href=\"#disclaimer\">Disclaimer</a>\n          </div>\n          <div>\n            <a href=\"#terms\">Terms of Service</a>\n          </div>\n          <div>\n            <a href=\"#contact\">Contact</a>\n          </div>\n          <div>\n            <a href=\"#donate\">Donate</a>\n          </div>\n        </div>\n\n        <section id=\"version\">\n          <h4>Version</h4>\n          <p>\n            Commit SHA:{' '}\n            <a\n              target=\"_blank\"\n              href={`https://github.com/darkwire/darkwire.io/commit/${process.env.REACT_APP_COMMIT_SHA}`}\n            >\n              {process.env.REACT_APP_COMMIT_SHA}\n            </a>\n          </p>\n        </section>\n\n        <section id=\"software\">\n          <h4>Software</h4>\n          <p>\n            This software uses the{' '}\n            <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Crypto\" target=\"_blank\" rel=\"noopener noreferrer\">\n              Web Cryptography API\n            </a>{' '}\n            to encrypt data which is transferred using{' '}\n            <a href=\"https://en.wikipedia.org/wiki/WebSocket\" target=\"_blank\" rel=\"noopener noreferrer\">\n              secure WebSockets\n            </a>\n            . Messages are never stored on a server or sent over the wire in plain-text.\n          </p>\n          <p>\n            We believe in privacy and transparency. &nbsp;\n            <a href=\"https://github.com/darkwire/darkwire.io\" target=\"_blank\" rel=\"noopener noreferrer\">\n              View the source code and documentation on GitHub.\n            </a>\n          </p>\n        </section>\n\n        <section id=\"report-abuse\">\n          <h4>Report Abuse</h4>\n          <p>\n            We encourage you to report problematic content to us. Please keep in mind that to help ensure the safety,\n            confidentiality and security of your messages, we do not have the contents of messages available to us,\n            which limits our ability to verify the report and take action.\n          </p>\n          <p>\n            When needed, you can take a screenshot of the content and share it, along with any available contact info,\n            with appropriate law enforcement authorities.\n          </p>\n          <p>\n            To report any content, email us at abuse[at]darkwire.io or submit the room ID below to report anonymously.\n          </p>\n          <form onSubmit={this.handleReportAbuse.bind(this)}>\n            {this.state.abuseReported && <div>Thank you!</div>}\n            <div>\n              <div className=\"input-group\">\n                <input\n                  className=\"form-control\"\n                  placeholder=\"Room ID\"\n                  onChange={this.handleUpdateRoomId.bind(this)}\n                  value={this.state.roomId}\n                  type=\"text\"\n                />\n                <div className=\"input-group-append\">\n                  <button className=\"btn btn-secondary\" type=\"submit\">\n                    Submit\n                  </button>\n                </div>\n              </div>\n            </div>\n          </form>\n          <br />\n          <p>If you feel you or anyone else is in immediate danger, please contact your local emergency services.</p>\n          <p>\n            If you receive content from someone who wishes to hurt themselves, and you're concerned for their safety,\n            please contact your local emergency services or a{' '}\n            <a href=\"https://faq.whatsapp.com/en/general/28030010\">suicide prevention hotline</a>.\n          </p>\n          <p>\n            If you receive or encounter content indicating abuse or exploitation of a child, please contact the{' '}\n            <a href=\"http://www.missingkids.com\">National Center for Missing and Exploited Children (NCMEC)</a>.\n          </p>\n        </section>\n\n        <section id=\"acceptable-use\">\n          <h4>Acceptable Use Policy</h4>\n          <p>\n            This Acceptable Use Policy (this “Policy”) describes prohibited uses of the web services offered by Darkwire\n            and its affiliates (the “Services”) and the website located at https://darkwire.io (the “Darkwire Site”).\n            The examples described in this Policy are not exhaustive. We may modify this Policy at any time by posting a\n            revised version on the Darkwire Site. By using the Services or accessing the Darkwire Site, you agree to the\n            latest version of this Policy. If you violate the Policy or authorize or help others to do so, we may\n            suspend or terminate your use of the Services.\n          </p>\n          <strong>No Illegal, Harmful, or Offensive Use or Content</strong>\n          <p>\n            You may not use, or encourage, promote, facilitate or instruct others to use, the Services or Darkwire Site\n            for any illegal, harmful, fraudulent, infringing or offensive use, or to transmit, store, display,\n            distribute or otherwise make available content that is illegal, harmful, fraudulent, infringing or\n            offensive. Prohibited activities or content include:\n          </p>\n          <ul>\n            <li>\n              <strong>Illegal, Harmful or Fraudulent Activities.</strong> Any activities that are illegal, that violate\n              the rights of others, or that may be harmful to others, our operations or reputation, including\n              disseminating, promoting or facilitating child pornography, offering or disseminating fraudulent goods,\n              services, schemes, or promotions, make-money-fast schemes, ponzi and pyramid schemes, phishing, or\n              pharming.\n            </li>\n\n            <li>\n              <strong>Infringing Content.</strong> Content that infringes or misappropriates the intellectual property\n              or proprietary rights of others.\n            </li>\n\n            <li>\n              <strong>Offensive Content.</strong> Content that is defamatory, obscene, abusive, invasive of privacy, or\n              otherwise objectionable, including content that constitutes child pornography, relates to bestiality, or\n              depicts non-consensual sex acts.\n            </li>\n\n            <li>\n              <strong>Harmful Content.</strong> Content or other computer technology that may damage, interfere with,\n              surreptitiously intercept, or expropriate any system, program, or data, including viruses, Trojan horses,\n              worms, time bombs, or cancelbots.\n            </li>\n          </ul>\n          <strong>No Security Violations</strong>\n          <br />\n          You may not use the Services to violate the security or integrity of any network, computer or communications\n          system, software application, or network or computing device (each, a “System”). Prohibited activities\n          include:\n          <ul>\n            <li>\n              <strong>Unauthorized Access.</strong> Accessing or using any System without permission, including\n              attempting to probe, scan, or test the vulnerability of a System or to breach any security or\n              authentication measures used by a System.\n            </li>\n\n            <li>\n              <strong>Interception.</strong> Monitoring of data or traffic on a System without permission.\n            </li>\n\n            <li>\n              <strong>Falsification of Origin.</strong> Forging TCP-IP packet headers, e-mail headers, or any part of a\n              message describing its origin or route. The legitimate use of aliases and anonymous remailers is not\n              prohibited by this provision.\n            </li>\n          </ul>\n          <strong>No Network Abuse</strong>\n          <br />\n          You may not make network connections to any users, hosts, or networks unless you have permission to\n          communicate with them. Prohibited activities include:\n          <ul>\n            <li>\n              <strong>Monitoring or Crawling.</strong> Monitoring or crawling of a System that impairs or disrupts the\n              System being monitored or crawled.\n            </li>\n\n            <li>\n              <strong>Denial of Service (DoS).</strong> Inundating a target with communications requests so the target\n              either cannot respond to legitimate traffic or responds so slowly that it becomes ineffective.\n            </li>\n\n            <li>\n              <strong>Intentional Interference.</strong> Interfering with the proper functioning of any System,\n              including any deliberate attempt to overload a system by mail bombing, news bombing, broadcast attacks, or\n              flooding techniques.\n            </li>\n\n            <li>\n              <strong>Operation of Certain Network Services.</strong> Operating network services like open proxies, open\n              mail relays, or open recursive domain name servers.\n            </li>\n\n            <li>\n              <strong>Avoiding System Restrictions.</strong> Using manual or electronic means to avoid any use\n              limitations placed on a System, such as access and storage restrictions.\n            </li>\n          </ul>\n          <strong>No E-Mail or Other Message Abuse</strong>\n          <br />\n          You will not distribute, publish, send, or facilitate the sending of unsolicited mass e-mail or other\n          messages, promotions, advertising, or solicitations (like “spam”), including commercial advertising and\n          informational announcements. You will not alter or obscure mail headers or assume a sender’s identity without\n          the sender’s explicit permission. You will not collect replies to messages sent from another internet service\n          provider if those messages violate this Policy or the acceptable use policy of that provider.\n          <strong>Our Monitoring and Enforcement</strong>\n          <br />\n          We reserve the right, but do not assume the obligation, to investigate any violation of this Policy or misuse\n          of the Services or Darkwire Site. We may:\n          <ul>\n            <li>investigate violations of this Policy or misuse of the Services or Darkwire Site; or</li>\n            <li>\n              remove, disable access to, or modify any content or resource that violates this Policy or any other\n              agreement we have with you for use of the Services or the Darkwire Site.\n            </li>\n            <li>\n              We may report any activity that we suspect violates any law or regulation to appropriate law enforcement\n              officials, regulators, or other appropriate third parties. Our reporting may include disclosing\n              appropriate customer information. We also may cooperate with appropriate law enforcement agencies,\n              regulators, or other appropriate third parties to help with the investigation and prosecution of illegal\n              conduct by providing network and systems information related to alleged violations of this Policy.\n            </li>\n          </ul>\n          Reporting of Violations of this Policy\n          <br />\n          If you become aware of any violation of this Policy, you will immediately notify us and provide us with\n          assistance, as requested, to stop or remedy the violation. To report any violation of this Policy, please\n          follow our abuse reporting process.\n        </section>\n\n        <section id=\"terms\">\n          <h4>Terms of Service (\"Terms\")</h4>\n          <p>Last updated: December 11, 2017</p>\n          <p>\n            Please read these Terms of Service (\"Terms\", \"Terms of Service\") carefully before using the\n            https://darkwire.io website (the \"Service\") operated by Darkwire (\"us\", \"we\", or \"our\").\n          </p>\n          <p>\n            Your access to and use of the Service is conditioned on your acceptance of and compliance with these Terms.\n            These Terms apply to all visitors, users and others who access or use the Service.\n          </p>\n          <p>\n            By accessing or using the Service you agree to be bound by these Terms. If you disagree with any part of the\n            terms then you may not access the Service.\n          </p>\n          <strong>Links To Other Web Sites</strong>\n          <p>\n            Our Service may contain links to third-party web sites or services that are not owned or controlled by\n            Darkwire.\n          </p>\n          <p>\n            Darkwire has no control over, and assumes no responsibility for, the content, privacy policies, or practices\n            of any third party web sites or services. You further acknowledge and agree that Darkwire shall not be\n            responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or\n            in connection with use of or reliance on any such content, goods or services available on or through any\n            such web sites or services.\n          </p>\n          <p>\n            We strongly advise you to read the terms and conditions and privacy policies of any third-party web sites or\n            services that you visit.\n          </p>\n          <strong>Termination</strong>\n          <p>\n            We may terminate or suspend access to our Service immediately, without prior notice or liability, for any\n            reason whatsoever, including without limitation if you breach the Terms.\n          </p>\n          <p>\n            All provisions of the Terms which by their nature should survive termination shall survive termination,\n            including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of\n            liability.\n          </p>\n          <strong>Governing Law</strong>\n          <p>\n            These Terms shall be governed and construed in accordance with the laws of New York, United States, without\n            regard to its conflict of law provisions.\n          </p>\n          <p>\n            Our failure to enforce any right or provision of these Terms will not be considered a waiver of those\n            rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining\n            provisions of these Terms will remain in effect. These Terms constitute the entire agreement between us\n            regarding our Service, and supersede and replace any prior agreements we might have between us regarding the\n            Service.\n          </p>\n        </section>\n\n        <section id=\"disclaimer\">\n          <h4>Disclaimer</h4>\n          <p className=\"bold\">\n            WARNING: Darkwire does not mask IP addresses nor can verify the integrity of parties recieving messages.\n            &nbsp;Proceed with caution and always confirm recipients beforre starting a chat session.\n          </p>\n          <p>\n            Please also note that <strong>ALL CHATROOMS</strong> are public. &nbsp;Anyone can guess your room URL. If\n            you need a more-private room, use the lock feature or set the URL manually by entering a room ID after\n            &quot;darkwire.io/&quot;.\n          </p>\n          <br />\n          <strong>No Warranties; Exclusion of Liability; Indemnification</strong>\n          <p>\n            <strong>\n              OUR WEBSITE IS OPERATED BY Darkwire ON AN \"AS IS,\" \"AS AVAILABLE\" BASIS, WITHOUT REPRESENTATIONS OR\n              WARRANTIES OF ANY KIND. TO THE FULLEST EXTENT PERMITTED BY LAW, Darkwire SPECIFICALLY DISCLAIMS ALL\n              WARRANTIES AND CONDITIONS OF ANY KIND, INCLUDING ALL IMPLIED WARRANTIES AND CONDITIONS OF MERCHANTABILITY,\n              FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NONINFRINGEMENT FOR OUR WEBSITE AND ANY CONTRACTS AND SERVICES\n              YOU PURCHASE THROUGH IT. Darkwire SHALL NOT HAVE ANY LIABILITY OR RESPONSIBILITY FOR ANY ERRORS OR\n              OMISSIONS IN THE CONTENT OF OUR WEBSITE, FOR CONTRACTS OR SERVICES SOLD THROUGH OUR WEBSITE, FOR YOUR\n              ACTION OR INACTION IN CONNECTION WITH OUR WEBSITE OR FOR ANY DAMAGE TO YOUR COMPUTER OR DATA OR ANY OTHER\n              DAMAGE YOU MAY INCUR IN CONNECTION WITH OUR WEBSITE. YOUR USE OF OUR WEBSITE AND ANY CONTRACTS OR SERVICES\n              ARE AT YOUR OWN RISK. IN NO EVENT SHALL EITHER Darkwire OR THEIR AGENTS BE LIABLE FOR ANY DIRECT,\n              INDIRECT, PUNITIVE, INCIDENTAL, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF OR IN ANY WAY CONNECTED\n              WITH THE USE OF OUR WEBSITE, CONTRACTS AND SERVICES PURCHASED THROUGH OUR WEBSITE, THE DELAY OR INABILITY\n              TO USE OUR WEBSITE OR OTHERWISE ARISING IN CONNECTION WITH OUR WEBSITE, CONTRACTS OR RELATED SERVICES,\n              WHETHER BASED ON CONTRACT, TORT, STRICT LIABILITY OR OTHERWISE, EVEN IF ADVISED OF THE POSSIBILITY OF ANY\n              SUCH DAMAGES. IN NO EVENT SHALL Darkwire’s LIABILITY FOR ANY DAMAGE CLAIM EXCEED THE AMOUNT PAID BY YOU TO\n              Darkwire FOR THE TRANSACTION GIVING RISE TO SUCH DAMAGE CLAIM.\n            </strong>\n          </p>\n          <p>\n            <strong>\n              SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OR LIMITATION OF INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THE\n              ABOVE EXCLUSION MAY NOT APPLY TO YOU.\n            </strong>\n          </p>\n          <p>\n            <strong>\n              WITHOUT LIMITING THE FOREGOING, Darkwire DO NOT REPRESENT OR WARRANT THAT THE INFORMATION ON THE WEBITE IS\n              ACCURATE, COMPLETE, RELIABLE, USEFUL, TIMELY OR CURRENT OR THAT OUR WEBSITE WILL OPERATE WITHOUT\n              INTERRUPTION OR ERROR.\n            </strong>\n          </p>\n          <p>\n            <strong>\n              YOU AGREE THAT ALL TIMES, YOU WILL LOOK TO ATTORNEYS FROM WHOM YOU PURCHASE SERVICES FOR ANY CLAIMS OF ANY\n              NATURE, INCLUDING LOSS, DAMAGE, OR WARRANTY. Darkwire AND THEIR RESPECTIVE AFFILIATES MAKE NO\n              REPRESENTATION OR GUARANTEES ABOUT ANY CONTRACTS AND SERVICES OFFERED THROUGH OUR WEBSITE.\n            </strong>\n          </p>\n          <p>\n            <strong>\n              Darkwire MAKES NO REPRESENTATION THAT CONTENT PROVIDED ON OUR WEBSITE, CONTRACTS, OR RELATED SERVICES ARE\n              APPLICABLE OR APPROPRIATE FOR USE IN ALL JURISDICTIONS.\n            </strong>\n          </p>\n          <strong>Indemnification</strong>\n          <p>\n            You agree to defend, indemnify and hold Darkwire harmless from and against any and all claims, damages,\n            costs and expenses, including attorneys' fees, arising from or related to your use of our Website or any\n            Contracts or Services you purchase through it.\n          </p>\n          <strong>Changes</strong>\n          <p>\n            We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is\n            material we will try to provide at least 30 days notice prior to any new terms taking effect. What\n            constitutes a material change will be determined at our sole discretion.\n          </p>\n          <p>\n            By continuing to access or use our Service after those revisions become effective, you agree to be bound by\n            the revised terms. If you do not agree to the new terms, please stop using the Service.\n          </p>\n          <strong>Contact Us</strong>\n          <p>If you have any questions about these Terms, please contact us at hello[at]darkwire.io.</p>\n        </section>\n\n        <section id=\"contact\">\n          <h4>Contact</h4>\n          <p>Questions/comments? Email us at hello[at]darkwire.io</p>\n          <p>\n            Found a bug or want a new feature?{' '}\n            <a href=\"https://github.com/darkwire/darkwire.io/issues\" target=\"_blank\" rel=\"noopener noreferrer\">\n              Open a ticket on Github\n            </a>\n            .\n          </p>\n        </section>\n\n        <section id=\"donate\">\n          <h4>Donate</h4>\n          <p>\n            Darkwire is maintained and hosted by two developers with full-time jobs. If you get some value from this\n            service we would appreciate any donation you can afford. We use these funds for server and DNS costs. Thank\n            you!\n          </p>\n          <strong>Bitcoin</strong>\n          <p>189sPnHGcjP5uteg2UuNgcJ5eoaRAP4Bw4</p>\n          <strong>Ethereum</strong>\n          <p>0x36dc407bB28aA1EE6AafBee0379Fe6Cff881758E</p>\n          <strong>Litecoin</strong>\n          <p>LUViQeSggBBtYoN2qNtXSuxYoRMzRY8CSX</p>\n          <strong>PayPal:</strong>\n          <br />\n          <form action=\"https://www.paypal.com/cgi-bin/webscr\" method=\"post\" target=\"_blank\">\n            <input type=\"hidden\" name=\"cmd\" value=\"_s-xclick\" />\n            <input type=\"hidden\" name=\"hosted_button_id\" value=\"UAH5BCLA9Y8VW\" />\n            <input\n              type=\"image\"\n              src=\"https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif\"\n              border=\"0\"\n              name=\"submit\"\n              alt=\"PayPal - The safer, easier way to pay online!\"\n            />\n            <img alt=\"\" border=\"0\" src=\"https://www.paypalobjects.com/en_US/i/scr/pixel.gif\" width=\"1\" height=\"1\" />\n          </form>\n        </section>\n      </div>\n    );\n  }\n}\n\nAbout.propTypes = {\n  roomId: PropTypes.string.isRequired,\n};\n\nexport default About;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Copy } from 'react-feather';\nimport Clipboard from 'clipboard';\nimport $ from 'jquery';\n\nclass RoomLink extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      roomUrl: `${window.location.origin}/${props.roomId}`,\n    };\n  }\n\n  componentDidMount() {\n    const clip = new Clipboard('.copy-room');\n\n    clip.on('success', () => {\n      $('.copy-room').tooltip('show');\n      setTimeout(() => {\n        $('.copy-room').tooltip('hide');\n      }, 3000);\n    });\n\n    $(() => {\n      $('.copy-room').tooltip({\n        trigger: 'manual',\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    if ($('.copy-room').tooltip) $('.copy-room').tooltip('hide');\n  }\n\n  render() {\n    return (\n      <form>\n        <div className=\"form-group\">\n          <div className=\"input-group\">\n            <input id=\"room-url\" className=\"form-control\" type=\"text\" readOnly value={this.state.roomUrl} />\n            <div className=\"input-group-append\">\n              <button\n                className=\"copy-room btn btn-secondary\"\n                type=\"button\"\n                data-toggle=\"tooltip\"\n                data-placement=\"bottom\"\n                data-clipboard-text={this.state.roomUrl}\n                title={this.props.translations.copyButtonTooltip}\n              >\n                <Copy />\n              </button>\n            </div>\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n\nRoomLink.propTypes = {\n  roomId: PropTypes.string.isRequired,\n  translations: PropTypes.object.isRequired,\n};\n\nexport default RoomLink;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { getTranslations } from 'i18n';\nimport _ from 'lodash';\n\nconst regex = /{(.*?)}/g;\n\nclass T extends Component {\n  render() {\n    const t = getTranslations(this.props.language);\n    const englishT = getTranslations('en');\n    const str = _.get(t, this.props.path, '') || _.get(englishT, this.props.path, '');\n    let string = str.split(regex);\n    if (this.props.data) {\n      string = string.map(word => {\n        if (this.props.data[word]) {\n          return this.props.data[word];\n        }\n        return word;\n      });\n      return <span>{string}</span>;\n    }\n    return string;\n  }\n}\n\nT.propTypes = {\n  path: PropTypes.string.isRequired,\n};\n\nexport default T;\n","import { connect } from 'react-redux';\nimport T from 'components/T/T';\n\nexport default connect((state, ownProps) => ({\n  language: state.app.language,\n}))(T);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport RoomLink from 'components/RoomLink';\nimport { styles } from './styles.module.scss';\nimport Cookie from 'js-cookie';\nimport T from 'components/T';\n\nclass Settings extends Component {\n  handleSoundToggle() {\n    this.props.toggleSoundEnabled(!this.props.soundIsEnabled);\n  }\n\n  handleNotificationToggle() {\n    Notification.requestPermission().then(permission => {\n      if (permission === 'granted') {\n        this.props.toggleNotificationEnabled(!this.props.notificationIsEnabled);\n        this.props.toggleNotificationAllowed(true);\n      }\n      if (permission === 'denied') {\n        this.props.toggleNotificationAllowed(false);\n      }\n    });\n  }\n\n  handleLanguageChange(evt) {\n    const language = evt.target.value;\n    Cookie.set('language', language);\n    this.props.setLanguage(language);\n  }\n\n  render() {\n    return (\n      <div className={styles}>\n        <section>\n          <h4>\n            <T path=\"newMessageNotification\" />\n          </h4>\n          <form>\n            <div className=\"form-check\">\n              <label className=\"form-check-label\" htmlFor=\"sound-control\">\n                <input\n                  id=\"sound-control\"\n                  onChange={this.handleSoundToggle.bind(this)}\n                  className=\"form-check-input\"\n                  type=\"checkbox\"\n                  checked={this.props.soundIsEnabled}\n                />\n                <T path=\"sound\" />\n              </label>\n            </div>\n            <div className=\"form-check\">\n              <label className=\"form-check-label\" htmlFor=\"notif-control\">\n                {this.props.notificationIsAllowed !== false && (\n                  <>\n                    <input\n                      id=\"notif-control\"\n                      onChange={this.handleNotificationToggle.bind(this)}\n                      className=\"form-check-input\"\n                      type=\"checkbox\"\n                      checked={this.props.notificationIsEnabled}\n                      disabled={this.props.notificationIsAllowed === false} // Important to keep '=== false' here\n                    />\n                    <T path=\"desktopNotification\" />\n                  </>\n                )}\n                {this.props.notificationIsAllowed === false && <T path=\"desktopNotificationBlocked\" />}\n              </label>\n            </div>\n          </form>\n        </section>\n\n        <section>\n          <h4 className=\"mb-3\">\n            <T path=\"copyRoomHeader\" />\n          </h4>\n          <RoomLink roomId={this.props.roomId} translations={this.props.translations} />\n        </section>\n\n        <section>\n          <h4 className=\"mb-3\">\n            <T path=\"languageDropdownHeader\" />\n          </h4>\n          <p>\n            <a\n              href=\"https://github.com/darkwire/darkwire.io/blob/master/client/README.md#translations\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n            >\n              <T path=\"helpTranslate\" />\n            </a>\n          </p>\n          <div className=\"form-group\">\n            <select\n              value={this.props.language}\n              className=\"form-control\"\n              onChange={this.handleLanguageChange.bind(this)}\n            >\n              <option value=\"en\">English</option>\n              <option value=\"fr\">Français</option>\n              <option value=\"oc\">Occitan</option>\n              <option value=\"de\">Deutsch</option>\n              <option value=\"nl\">Nederlands</option>\n              <option value=\"it\">Italiano</option>\n              <option value=\"zhCN\">中文</option>\n            </select>\n          </div>\n        </section>\n\n        <section>\n          <h4>\n            <T path=\"roomOwnerHeader\" />\n          </h4>\n          <p>\n            <T path=\"roomOwnerText\" />\n          </p>\n        </section>\n        <section>\n          <h4>\n            <T path=\"lockRoomHeader\" />\n          </h4>\n          <p>\n            <T path=\"lockRoomText\" />\n          </p>\n        </section>\n        <section>\n          <h4>\n            <T path=\"slashCommandsHeader\" />\n          </h4>\n          <p>\n            <T path=\"slashCommandsText\" />\n          </p>\n          <ul>\n            <li>\n              /nick [username]{' '}\n              <span className=\"text-muted\">\n                <T path=\"slashCommandsBullets.0\" />\n              </span>\n            </li>\n            <li>\n              /me [action]{' '}\n              <span className=\"text-muted\">\n                <T path=\"slashCommandsBullets.1\" />\n              </span>\n            </li>\n            <li>\n              /clear{' '}\n              <span className=\"text-muted\">\n                <T path=\"slashCommandsBullets.2\" />\n              </span>\n            </li>\n            <li>\n              /help{' '}\n              <span className=\"text-muted\">\n                <T path=\"slashCommandsBullets.3\" />\n              </span>\n            </li>\n          </ul>\n        </section>\n      </div>\n    );\n  }\n}\n\nSettings.propTypes = {\n  soundIsEnabled: PropTypes.bool.isRequired,\n  toggleSoundEnabled: PropTypes.func.isRequired,\n  notificationIsEnabled: PropTypes.bool.isRequired,\n  notificationIsAllowed: PropTypes.bool,\n  toggleNotificationEnabled: PropTypes.func.isRequired,\n  toggleNotificationAllowed: PropTypes.func.isRequired,\n  roomId: PropTypes.string.isRequired,\n  setLanguage: PropTypes.func.isRequired,\n  translations: PropTypes.object.isRequired,\n};\n\nexport default Settings;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport RoomLink from 'components/RoomLink';\n\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      roomUrl: `https://darkwire.io/${props.roomId}`,\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          v2.0 is a complete rewrite and includes several new features. Here are some highlights:\n          <ul className=\"native\">\n            <li>Support on all modern browsers (Chrome, Firefox, Safari, Safari iOS, Android)</li>\n            <li>Slash commands (/nick, /me, /clear)</li>\n            <li>Room owners can lock the room, preventing anyone else from joining</li>\n            <li>Front-end rewritten in React.js and Redux</li>\n            <li>Send files up to 4 MB</li>\n          </ul>\n          <div>\n            You can learn more{' '}\n            <a href=\"https://github.com/darkwire/darkwire.io\" target=\"_blank\" rel=\"noopener noreferrer\">\n              here\n            </a>\n            .\n          </div>\n        </div>\n        <br />\n        <p className=\"mb-2\">Others can join this room using the following URL:</p>\n        <RoomLink roomId={this.props.roomId} translations={this.props.translations} />\n        <div className=\"react-modal-footer\">\n          <button className=\"btn btn-primary btn-lg\" onClick={this.props.close}>\n            {this.props.translations.welcomeModalCTA}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nWelcome.propTypes = {\n  roomId: PropTypes.string.isRequired,\n  close: PropTypes.func.isRequired,\n  translations: PropTypes.object.isRequired,\n};\n\nexport default Welcome;\n","import React, { Component } from 'react';\n\nexport default class RoomLocked extends Component {\n  render() {\n    return <div>{this.props.modalContent}</div>;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport uuid from 'uuid';\nimport { File } from 'react-feather';\nimport { sanitize } from 'utils';\nimport { styles } from './styles.module.scss';\n\nconst VALID_FILE_TYPES = [\n  'png',\n  'jpg',\n  'jpeg',\n  'gif',\n  'zip',\n  'rar',\n  'gzip',\n  'pdf',\n  'txt',\n  'json',\n  'doc',\n  'docx',\n  'csv',\n  'js',\n  'html',\n  'css',\n];\n\nconst MAX_FILE_SIZE = process.env.REACT_APP_MAX_FILE_SIZE || 4;\n\n/**\n * Encode the given file to binary string\n * @param {File} file\n */\nconst encodeFile = file => {\n  return new Promise((resolve, reject) => {\n    const reader = new window.FileReader();\n\n    if (!file) {\n      reject();\n      return;\n    }\n\n    reader.onload = readerEvent => {\n      resolve(window.btoa(readerEvent.target.result));\n    };\n\n    reader.readAsBinaryString(file);\n  });\n};\n\nexport const FileTransfer = ({ sendEncryptedMessage }) => {\n  const fileInput = React.useRef(null);\n\n  const supported = React.useMemo(\n    () =>\n      Boolean(window.File) &&\n      Boolean(window.FileReader) &&\n      Boolean(window.FileList) &&\n      Boolean(window.Blob) &&\n      Boolean(window.btoa) &&\n      Boolean(window.atob) &&\n      Boolean(window.URL),\n    [],\n  );\n\n  React.useEffect(() => {\n    const currentFileInput = fileInput.current;\n    let isMounted = true;\n\n    const handleFileTransfer = async event => {\n      const file = event.target.files && event.target.files[0];\n\n      if (file) {\n        const fileType = file.type || 'file';\n        const fileName = sanitize(file.name);\n        const fileExtension = file.name.split('.').pop().toLowerCase();\n\n        if (VALID_FILE_TYPES.indexOf(fileExtension) <= -1) {\n          // eslint-disable-next-line no-alert\n          alert('File type not supported');\n          return false;\n        }\n\n        if (file.size > MAX_FILE_SIZE * 1000000) {\n          // eslint-disable-next-line no-alert\n          alert(`Max filesize is ${MAX_FILE_SIZE}MB`);\n          return false;\n        }\n\n        const fileId = uuid.v4();\n        const fileData = {\n          id: fileId,\n          file,\n          fileName,\n          fileType,\n          encodedFile: await encodeFile(file),\n        };\n\n        // Mounted component guard\n        if (!isMounted) {\n          return;\n        }\n\n        fileInput.current.value = '';\n\n        sendEncryptedMessage({\n          type: 'SEND_FILE',\n          payload: {\n            fileName: fileData.fileName,\n            encodedFile: fileData.encodedFile,\n            fileType: fileData.fileType,\n            timestamp: Date.now(),\n          },\n        });\n      }\n\n      return false;\n    };\n\n    currentFileInput.addEventListener('change', handleFileTransfer);\n\n    return () => {\n      isMounted = false;\n      currentFileInput.removeEventListener('change', handleFileTransfer);\n    };\n  }, [sendEncryptedMessage]);\n\n  if (!supported) {\n    return null;\n  }\n\n  return (\n    <div className={`${styles} icon file-transfer btn btn-link`}>\n      <input placeholder=\"Choose a file...\" type=\"file\" name=\"fileUploader\" id=\"fileInput\" ref={fileInput} />\n      <label htmlFor=\"fileInput\">\n        <File color=\"#fff\" />\n      </label>\n    </div>\n  );\n};\n\nFileTransfer.propTypes = {\n  sendEncryptedMessage: PropTypes.func.isRequired,\n};\n\nexport default FileTransfer;\n","import FileTransfer from './FileTransfer';\n\nexport default FileTransfer;\n","/* eslint-disable import/prefer-default-export */\nexport function sanitize(str) {\n  return str.replace(/[^A-Za-z0-9._]/g, '-').replace(/[<>]/gi, '');\n}\n","/* eslint-disable import/prefer-default-export */\nexport const getSelectedText = () => {\n  let text = '';\n  if (typeof window.getSelection !== 'undefined') {\n    text = window.getSelection().toString();\n  } else if (typeof document.selection !== 'undefined' && document.selection.type === 'Text') {\n    text = document.selection.createRange().text;\n  }\n  return text;\n};\n\nexport const hasTouchSupport =\n  'ontouchstart' in window || (window.DocumentTouch && document instanceof window.DocumentTouch);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport sanitizeHtml from 'sanitize-html';\nimport FileTransfer from 'components/FileTransfer';\nimport { CornerDownRight } from 'react-feather';\nimport { getSelectedText, hasTouchSupport } from '../../utils/dom';\n\n// Disable for now\n// import autosize from 'autosize'\n\nexport class Chat extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: '',\n      touchSupport: hasTouchSupport,\n      shiftKeyDown: false,\n    };\n\n    this.commands = [\n      {\n        command: 'nick',\n        description: 'Changes nickname.',\n        paramaters: ['{username}'],\n        usage: '/nick {username}',\n        scope: 'global',\n        action: params => {\n          // eslint-disable-line\n          let newUsername = params.join(' ') || ''; // eslint-disable-line\n\n          // Remove things that arent digits or chars\n          newUsername = newUsername.replace(/[^A-Za-z0-9]/g, '-');\n\n          const errors = [];\n\n          if (!newUsername.trim().length) {\n            errors.push('Username cannot be blank');\n          }\n\n          if (newUsername.toString().length > 16) {\n            errors.push('Username cannot be greater than 16 characters');\n          }\n\n          if (!newUsername.match(/^[A-Z]/i)) {\n            errors.push('Username must start with a letter');\n          }\n\n          if (errors.length) {\n            return this.props.showNotice({\n              message: `${errors.join(', ')}`,\n              level: 'error',\n            });\n          }\n\n          this.props.sendEncryptedMessage({\n            type: 'CHANGE_USERNAME',\n            payload: {\n              id: this.props.userId,\n              newUsername,\n              currentUsername: this.props.username,\n            },\n          });\n        },\n      },\n      {\n        command: 'help',\n        description: 'Shows a list of commands.',\n        paramaters: [],\n        usage: '/help',\n        scope: 'local',\n        action: params => {\n          // eslint-disable-line\n          const validCommands = this.commands.map(command => `/${command.command}`);\n          this.props.showNotice({\n            message: `Valid commands: ${validCommands.sort().join(', ')}`,\n            level: 'info',\n          });\n        },\n      },\n      {\n        command: 'me',\n        description: 'Invoke virtual action',\n        paramaters: ['{action}'],\n        usage: '/me {action}',\n        scope: 'global',\n        action: params => {\n          // eslint-disable-line\n          const actionMessage = params.join(' ');\n          if (!actionMessage.trim().length) {\n            return false;\n          }\n\n          this.props.sendEncryptedMessage({\n            type: 'USER_ACTION',\n            payload: {\n              action: actionMessage,\n            },\n          });\n        },\n      },\n      {\n        command: 'clear',\n        description: 'Clears the chat screen',\n        paramaters: [],\n        usage: '/clear',\n        scope: 'local',\n        action: (params = null) => {\n          // eslint-disable-line\n          this.props.clearActivities();\n        },\n      },\n    ];\n  }\n\n  componentDidMount() {\n    if (!hasTouchSupport) {\n      // Disable for now due to vary issues:\n      // Paste not working, shift+enter line breaks\n      // autosize(this.textInput);\n      this.textInput.addEventListener('autosize:resized', () => {\n        this.props.scrollToBottom();\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.focusChat) {\n      if (!getSelectedText()) {\n        // Don't focus for now, evaluate UX benfits\n        // this.textInput.focus()\n      }\n    }\n  }\n\n  componentDidUpdate(nextProps, nextState) {\n    if (!nextState.message.trim().length) {\n      // autosize.update(this.textInput)\n    }\n  }\n\n  handleKeyUp(e) {\n    if (e.key === 'Shift') {\n      this.setState({\n        shiftKeyDown: false,\n      });\n    }\n  }\n\n  handleKeyPress(e) {\n    if (e.key === 'Shift') {\n      this.setState({\n        shiftKeyDown: true,\n      });\n    }\n    // Fix when autosize is enabled - line breaks require shift+enter twice\n    if (e.key === 'Enter' && !hasTouchSupport && !this.state.shiftKeyDown) {\n      e.preventDefault();\n      if (this.canSend()) {\n        this.sendMessage();\n      } else {\n        this.setState({\n          message: '',\n        });\n      }\n    }\n  }\n\n  executeCommand(command) {\n    const commandToExecute = this.commands.find(cmnd => cmnd.command === command.command);\n\n    if (commandToExecute) {\n      const { params } = command;\n      const commandResult = commandToExecute.action(params);\n\n      return commandResult;\n    }\n\n    return null;\n  }\n\n  handleSendClick() {\n    this.sendMessage.bind(this);\n    this.textInput.focus();\n  }\n\n  handleFormSubmit(evt) {\n    evt.preventDefault();\n    this.sendMessage();\n  }\n\n  parseCommand(message) {\n    const commandTrigger = {\n      command: null,\n      params: [],\n    };\n\n    if (message.charAt(0) === '/') {\n      const parsedCommand = message.replace('/', '').split(' ');\n      commandTrigger.command = sanitizeHtml(parsedCommand[0]) || null;\n      // Get params\n      if (parsedCommand.length >= 2) {\n        for (let i = 1; i < parsedCommand.length; i++) {\n          commandTrigger.params.push(parsedCommand[i]);\n        }\n      }\n\n      return commandTrigger;\n    }\n\n    return false;\n  }\n\n  sendMessage() {\n    if (!this.canSend()) {\n      return;\n    }\n\n    const { message } = this.state;\n    const isCommand = this.parseCommand(message);\n\n    if (isCommand) {\n      const res = this.executeCommand(isCommand);\n      if (res === false) {\n        return;\n      }\n    } else {\n      this.props.sendEncryptedMessage({\n        type: 'TEXT_MESSAGE',\n        payload: {\n          text: message,\n          timestamp: Date.now(),\n        },\n      });\n    }\n\n    this.setState({\n      message: '',\n    });\n  }\n\n  handleInputChange(evt) {\n    this.setState({\n      message: evt.target.value,\n    });\n  }\n\n  canSend() {\n    return this.state.message.trim().length;\n  }\n\n  render() {\n    const touchSupport = this.state.touchSupport;\n\n    return (\n      <form onSubmit={this.handleFormSubmit.bind(this)} className=\"chat-preflight-container\">\n        <textarea\n          rows=\"1\"\n          onKeyUp={this.handleKeyUp.bind(this)}\n          onKeyDown={this.handleKeyPress.bind(this)}\n          ref={input => {\n            this.textInput = input;\n          }}\n          autoFocus\n          className=\"chat\"\n          value={this.state.message}\n          placeholder={this.props.translations.typePlaceholder}\n          onChange={this.handleInputChange.bind(this)}\n        />\n        <div className=\"input-controls\">\n          <FileTransfer sendEncryptedMessage={this.props.sendEncryptedMessage} />\n          {touchSupport && (\n            <button\n              onClick={this.handleSendClick.bind(this)}\n              className={`icon is-right send btn btn-link ${this.canSend() ? 'active' : ''}`}\n              title=\"Send\"\n            >\n              <CornerDownRight className={this.canSend() ? '' : 'disabled'} />\n            </button>\n          )}\n        </div>\n      </form>\n    );\n  }\n}\n\nChat.propTypes = {\n  sendEncryptedMessage: PropTypes.func.isRequired,\n  showNotice: PropTypes.func.isRequired,\n  userId: PropTypes.string.isRequired,\n  username: PropTypes.string.isRequired,\n  clearActivities: PropTypes.func.isRequired,\n  focusChat: PropTypes.bool.isRequired,\n  scrollToBottom: PropTypes.func.isRequired,\n  translations: PropTypes.object.isRequired,\n};\n\nexport default Chat;\n","export const openModal = payload => ({ type: 'OPEN_MODAL', payload });\nexport const closeModal = () => ({ type: 'CLOSE_MODAL' });\n\nexport const setScrolledToBottom = payload => ({ type: 'SET_SCROLLED_TO_BOTTOM', payload });\n\nexport const showNotice = payload => async dispatch => {\n  dispatch({ type: 'SHOW_NOTICE', payload });\n};\n\nexport const toggleWindowFocus = payload => async dispatch => {\n  dispatch({ type: 'TOGGLE_WINDOW_FOCUS', payload });\n};\n\nexport const toggleSoundEnabled = payload => async dispatch => {\n  dispatch({ type: 'TOGGLE_SOUND_ENABLED', payload });\n};\n\nexport const toggleNotificationEnabled = payload => async dispatch => {\n  dispatch({ type: 'TOGGLE_NOTIFICATION_ENABLED', payload });\n};\n\nexport const toggleNotificationAllowed = payload => async dispatch => {\n  dispatch({ type: 'TOGGLE_NOTIFICATION_ALLOWED', payload });\n};\n\nexport const toggleSocketConnected = payload => async dispatch => {\n  dispatch({ type: 'TOGGLE_SOCKET_CONNECTED', payload });\n};\n\nexport const createUser = payload => async dispatch => {\n  dispatch({ type: 'CREATE_USER', payload });\n};\n\nexport const clearActivities = () => async dispatch => {\n  dispatch({ type: 'CLEAR_ACTIVITIES' });\n};\n\nexport const setLanguage = payload => async dispatch => {\n  dispatch({ type: 'CHANGE_LANGUAGE', payload });\n};\n","import { getSocket } from 'utils/socket';\n\nconst receiveUserEnter = (payload, dispatch) => {\n  dispatch({ type: 'USER_ENTER', payload });\n};\n\nconst receiveToggleLockRoom = (payload, dispatch, getState) => {\n  const state = getState();\n\n  const lockedByUser = state.room.members.find(m => m.publicKey.n === payload.publicKey.n);\n  const lockedByUsername = lockedByUser.username;\n  const lockedByUserId = lockedByUser.id;\n\n  dispatch({\n    type: 'RECEIVE_TOGGLE_LOCK_ROOM',\n    payload: {\n      username: lockedByUsername,\n      locked: payload.locked,\n      id: lockedByUserId,\n    },\n  });\n};\n\nconst receiveUserExit = (payload, dispatch, getState) => {\n  const state = getState();\n  const payloadPublicKeys = payload.map(member => member.publicKey.n);\n  const exitingUser = state.room.members.find(m => !payloadPublicKeys.includes(m.publicKey.n));\n\n  if (!exitingUser) {\n    return;\n  }\n\n  const exitingUserId = exitingUser.id;\n  const exitingUsername = exitingUser.username;\n\n  dispatch({\n    type: 'USER_EXIT',\n    payload: {\n      members: payload,\n      id: exitingUserId,\n      username: exitingUsername,\n    },\n  });\n};\n\nexport const receiveUnencryptedMessage = (type, payload) => async (dispatch, getState) => {\n  switch (type) {\n    case 'USER_ENTER':\n      return receiveUserEnter(payload, dispatch);\n    case 'USER_EXIT':\n      return receiveUserExit(payload, dispatch, getState);\n    case 'TOGGLE_LOCK_ROOM':\n      return receiveToggleLockRoom(payload, dispatch, getState);\n    default:\n      return;\n  }\n};\n\nconst sendToggleLockRoom = (dispatch, getState) => {\n  const state = getState();\n  getSocket().emit('TOGGLE_LOCK_ROOM', null, res => {\n    dispatch({\n      type: 'TOGGLE_LOCK_ROOM',\n      payload: {\n        locked: res.isLocked,\n        username: state.user.username,\n        sender: state.user.id,\n      },\n    });\n  });\n};\n\nexport const sendUnencryptedMessage = (type, payload) => async (dispatch, getState) => {\n  switch (type) {\n    case 'TOGGLE_LOCK_ROOM':\n      return sendToggleLockRoom(dispatch, getState);\n    default:\n      return;\n  }\n};\n","import Crypto from './crypto';\n\nconst crypto = new Crypto();\n\nexport const process = (payload, state) =>\n  new Promise(async (resolve, reject) => {\n    const privateKeyJson = state.user.privateKey;\n    const privateKey = await crypto.importEncryptDecryptKey(privateKeyJson, 'jwk', ['decrypt', 'unwrapKey']);\n\n    let sessionKey;\n    let signingKey;\n\n    const iv = await crypto.convertStringToArrayBufferView(payload.iv);\n    const signature = await crypto.convertStringToArrayBufferView(payload.signature);\n    const payloadBuffer = await crypto.convertStringToArrayBufferView(payload.payload);\n\n    await new Promise(resolvePayload => {\n      payload.keys.forEach(async key => {\n        try {\n          sessionKey = await crypto.unwrapKey(\n            'jwk',\n            key.sessionKey,\n            privateKey,\n            {\n              name: 'RSA-OAEP',\n              hash: { name: 'SHA-1' },\n            },\n            { name: 'AES-CBC' },\n            true,\n            ['decrypt'],\n          );\n\n          signingKey = await crypto.unwrapKey(\n            'jwk',\n            key.signingKey,\n            privateKey,\n            {\n              name: 'RSA-OAEP',\n              hash: { name: 'SHA-1' },\n            },\n            { name: 'HMAC', hash: { name: 'SHA-256' } },\n            true,\n            ['verify'],\n          );\n          resolvePayload();\n        } catch (e) {} // eslint-disable-line\n      });\n    });\n\n    const verified = await crypto.verifyPayload(signature, payloadBuffer, signingKey);\n\n    if (!verified) {\n      reject();\n      return;\n    }\n\n    const decryptedPayload = await crypto.decryptMessage(payloadBuffer, sessionKey, iv);\n\n    const payloadJson = JSON.parse(crypto.convertArrayBufferViewToString(new Uint8Array(decryptedPayload)));\n\n    resolve(payloadJson);\n  });\n\nexport const prepare = (payload, state) =>\n  new Promise(async resolve => {\n    const myUsername = state.user.username;\n    const myId = state.user.id;\n\n    const sessionKey = await crypto.createSecretKey();\n    const signingKey = await crypto.createSigningKey();\n    const iv = await crypto.crypto.getRandomValues(new Uint8Array(16));\n\n    const jsonToSend = {\n      ...payload,\n      payload: {\n        ...payload.payload,\n        sender: myId,\n        username: myUsername,\n        text: encodeURI(payload.payload.text),\n      },\n    };\n\n    const payloadBuffer = crypto.convertStringToArrayBufferView(JSON.stringify(jsonToSend));\n\n    const encryptedPayload = await crypto.encryptMessage(payloadBuffer, sessionKey, iv);\n    const payloadString = await crypto.convertArrayBufferViewToString(new Uint8Array(encryptedPayload));\n\n    const signature = await crypto.signMessage(encryptedPayload, signingKey);\n\n    const encryptedKeys = await Promise.all(\n      state.room.members.map(async member => {\n        const key = await crypto.importEncryptDecryptKey(member.publicKey);\n        const enc = await Promise.all([crypto.wrapKey(sessionKey, key), crypto.wrapKey(signingKey, key)]);\n        return {\n          sessionKey: enc[0],\n          signingKey: enc[1],\n        };\n      }),\n    );\n\n    const ivString = await crypto.convertArrayBufferViewToString(new Uint8Array(iv));\n    const signatureString = await crypto.convertArrayBufferViewToString(new Uint8Array(signature));\n\n    resolve({\n      toSend: {\n        payload: payloadString,\n        signature: signatureString,\n        iv: ivString,\n        keys: encryptedKeys,\n      },\n      original: jsonToSend,\n    });\n  });\n","import { getSocket } from 'utils/socket';\nimport { prepare as prepareMessage, process as processMessage } from 'utils/message';\n\nexport const sendEncryptedMessage = payload => async (dispatch, getState) => {\n  const state = getState();\n  const msg = await prepareMessage(payload, state);\n  dispatch({ type: `SEND_ENCRYPTED_MESSAGE_${msg.original.type}`, payload: msg.original.payload });\n  getSocket().emit('ENCRYPTED_MESSAGE', msg.toSend);\n};\n\nexport const receiveEncryptedMessage = payload => async (dispatch, getState) => {\n  const state = getState();\n  const message = await processMessage(payload, state);\n  // Pass current state to all RECEIVE_ENCRYPTED_MESSAGE reducers for convenience, since each may have different needs\n  dispatch({ type: `RECEIVE_ENCRYPTED_MESSAGE_${message.type}`, payload: { payload: message.payload, state } });\n};\n","import Chat from './Chat';\nimport { connect } from 'react-redux';\nimport { clearActivities, showNotice, sendEncryptedMessage } from '../../actions';\n\nconst mapStateToProps = state => ({\n  username: state.user.username,\n  userId: state.user.id,\n  translations: state.app.translations,\n});\n\nconst mapDispatchToProps = {\n  clearActivities,\n  showNotice,\n  sendEncryptedMessage,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chat);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Username from 'components/Username';\nimport moment from 'moment';\nimport Linkify from 'react-linkify';\n\nclass Message extends Component {\n  render() {\n    const msg = decodeURI(this.props.message);\n\n    return (\n      <div>\n        <div className=\"chat-meta\">\n          <Username username={this.props.sender} />\n          <span className=\"muted timestamp\">{moment(this.props.timestamp).format('LT')}</span>\n        </div>\n        <div className=\"chat\">\n          <Linkify\n            properties={{\n              target: '_blank',\n              rel: 'noopener noreferrer',\n            }}\n          >\n            {msg}\n          </Linkify>\n        </div>\n      </div>\n    );\n  }\n}\n\nMessage.propTypes = {\n  sender: PropTypes.string.isRequired,\n  timestamp: PropTypes.number.isRequired,\n  message: PropTypes.string.isRequired,\n};\n\nexport default Message;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nconst Notice = props => (\n  <div>\n    <div\n      className={classNames({\n        info: props.level === 'info',\n        warning: props.level === 'warning',\n        danger: props.level === 'danger',\n      })}\n    >\n      {props.children}\n    </div>\n  </div>\n);\n\nNotice.defaultProps = {\n  level: 'info',\n};\n\nNotice.propTypes = {\n  children: PropTypes.node.isRequired,\n  level: PropTypes.string,\n};\n\nexport default Notice;\n","/* eslint-disable */\nfunction Zoom(domContent) {\n  const OFFSET = 80;\n\n  // From http://youmightnotneedjquery.com/#offset\n  function offset(element) {\n    const rect = element.getBoundingClientRect();\n\n    return {\n      top: rect.top + document.body.scrollTop,\n      left: rect.left + document.body.scrollLeft,\n    };\n  }\n\n  function zoomListener() {\n    let activeZoom = null;\n    let initialScrollPosition = null;\n    let initialTouchPosition = null;\n\n    function listen() {\n      domContent.addEventListener('click', event => {\n        if (event.target.tagName !== 'IMG') return;\n\n        zoom(event);\n      });\n    }\n\n    function zoom(event) {\n      event.stopPropagation();\n\n      if (document.body.classList.contains('zoom-overlay-open')) return;\n      if (event.target.width >= window.innerWidth - OFFSET) return;\n\n      if (event.metaKey || event.ctrlKey) return openInNewWindow();\n\n      closeActiveZoom({ forceDispose: true });\n\n      activeZoom = vanillaZoom(event.target);\n      activeZoom.zoomImage();\n\n      addCloseActiveZoomListeners();\n    }\n\n    function openInNewWindow() {\n      window.open(event.target.getAttribute('data-original') || event.target.currentSrc || event.target.src, '_blank');\n    }\n\n    function closeActiveZoom(options) {\n      options = options || { forceDispose: false };\n      if (!activeZoom) return;\n\n      activeZoom[options.forceDispose ? 'dispose' : 'close']();\n      removeCloseActiveZoomListeners();\n      activeZoom = null;\n    }\n\n    function addCloseActiveZoomListeners() {\n      // todo(fat): probably worth throttling this\n      window.addEventListener('scroll', handleScroll);\n      document.addEventListener('click', handleClick);\n      document.addEventListener('keyup', handleEscPressed);\n      document.addEventListener('touchstart', handleTouchStart);\n    }\n\n    function removeCloseActiveZoomListeners() {\n      window.removeEventListener('scroll', handleScroll);\n      document.removeEventListener('keyup', handleEscPressed);\n      document.removeEventListener('click', handleClick);\n      document.removeEventListener('touchstart', handleTouchStart);\n    }\n\n    function handleScroll(event) {\n      if (initialScrollPosition === null) initialScrollPosition = window.scrollY;\n      const deltaY = initialScrollPosition - window.scrollY;\n      if (Math.abs(deltaY) >= 40) closeActiveZoom();\n    }\n\n    function handleEscPressed(event) {\n      if (event.keyCode == 27) closeActiveZoom();\n    }\n\n    function handleClick(event) {\n      event.stopPropagation();\n      event.preventDefault();\n      closeActiveZoom();\n    }\n\n    function handleTouchStart(event) {\n      initialTouchPosition = event.touches[0].pageY;\n      event.target.addEventListener('touchmove', handleTouchMove);\n    }\n\n    function handleTouchMove(event) {\n      if (Math.abs(event.touches[0].pageY - initialTouchPosition) <= 10) return;\n      closeActiveZoom();\n      event.target.removeEventListener('touchmove', handleTouchMove);\n    }\n\n    return { listen };\n  }\n\n  var vanillaZoom = (function () {\n    let fullHeight = null;\n    let fullWidth = null;\n    let overlay = null;\n    let imgScaleFactor = null;\n\n    let targetImage = null;\n    let targetImageWrap = null;\n    let targetImageClone = null;\n\n    function zoomImage() {\n      const img = document.createElement('img');\n      img.onload = function () {\n        fullHeight = Number(img.height);\n        fullWidth = Number(img.width);\n        zoomOriginal();\n      };\n      img.src = targetImage.currentSrc || targetImage.src;\n    }\n\n    function zoomOriginal() {\n      targetImageWrap = document.createElement('div');\n      targetImageWrap.className = 'zoom-img-wrap';\n      targetImageWrap.style.position = 'absolute';\n      targetImageWrap.style.top = `${offset(targetImage).top}px`;\n      targetImageWrap.style.left = `${offset(targetImage).left}px`;\n\n      targetImageClone = targetImage.cloneNode();\n      targetImageClone.style.visibility = 'hidden';\n\n      targetImage.style.width = `${targetImage.offsetWidth}px`;\n      targetImage.parentNode.replaceChild(targetImageClone, targetImage);\n\n      document.body.appendChild(targetImageWrap);\n      targetImageWrap.appendChild(targetImage);\n\n      targetImage.classList.add('zoom-img');\n      targetImage.setAttribute('data-action', 'zoom-out');\n\n      overlay = document.createElement('div');\n      overlay.className = 'zoom-overlay';\n\n      document.body.appendChild(overlay);\n\n      calculateZoom();\n      triggerAnimation();\n    }\n\n    function calculateZoom() {\n      targetImage.offsetWidth; // repaint before animating\n\n      const originalFullImageWidth = fullWidth;\n      const originalFullImageHeight = fullHeight;\n\n      const maxScaleFactor = originalFullImageWidth / targetImage.width;\n\n      const viewportHeight = window.innerHeight - OFFSET;\n      const viewportWidth = window.innerWidth - OFFSET;\n\n      const imageAspectRatio = originalFullImageWidth / originalFullImageHeight;\n      const viewportAspectRatio = viewportWidth / viewportHeight;\n\n      if (originalFullImageWidth < viewportWidth && originalFullImageHeight < viewportHeight) {\n        imgScaleFactor = maxScaleFactor;\n      } else if (imageAspectRatio < viewportAspectRatio) {\n        imgScaleFactor = (viewportHeight / originalFullImageHeight) * maxScaleFactor;\n      } else {\n        imgScaleFactor = (viewportWidth / originalFullImageWidth) * maxScaleFactor;\n      }\n    }\n\n    function triggerAnimation() {\n      targetImage.offsetWidth; // repaint before animating\n\n      const imageOffset = offset(targetImage);\n      const scrollTop = window.scrollY;\n\n      const viewportY = scrollTop + window.innerHeight / 2;\n      const viewportX = window.innerWidth / 2;\n\n      const imageCenterY = imageOffset.top + targetImage.height / 2;\n      const imageCenterX = imageOffset.left + targetImage.width / 2;\n\n      const translateY = viewportY - imageCenterY;\n      const translateX = viewportX - imageCenterX;\n\n      const targetImageTransform = `scale(${imgScaleFactor})`;\n      const targetImageWrapTransform = `translate(${translateX}px, ${translateY}px) translateZ(0)`;\n\n      targetImage.style.webkitTransform = targetImageTransform;\n      targetImage.style.msTransform = targetImageTransform;\n      targetImage.style.transform = targetImageTransform;\n\n      targetImageWrap.style.webkitTransform = targetImageWrapTransform;\n      targetImageWrap.style.msTransform = targetImageWrapTransform;\n      targetImageWrap.style.transform = targetImageWrapTransform;\n\n      document.body.classList.add('zoom-overlay-open');\n    }\n\n    function close() {\n      document.body.classList.remove('zoom-overlay-open');\n      document.body.classList.add('zoom-overlay-transitioning');\n\n      targetImage.style.webkitTransform = '';\n      targetImage.style.msTransform = '';\n      targetImage.style.transform = '';\n\n      targetImageWrap.style.webkitTransform = '';\n      targetImageWrap.style.msTransform = '';\n      targetImageWrap.style.transform = '';\n\n      if (!('transition' in document.body.style)) return dispose();\n\n      targetImage.addEventListener('transitionend', dispose);\n      targetImage.addEventListener('webkitTransitionEnd', dispose);\n    }\n\n    function dispose() {\n      targetImage.removeEventListener('transitionend', dispose);\n      targetImage.removeEventListener('webkitTransitionEnd', dispose);\n\n      if (!targetImageWrap || !targetImageWrap.parentNode) return;\n\n      targetImage.classList.remove('zoom-img');\n      targetImage.style.width = '';\n      targetImage.setAttribute('data-action', 'zoom');\n\n      targetImageClone.parentNode.replaceChild(targetImage, targetImageClone);\n      targetImageWrap.parentNode.removeChild(targetImageWrap);\n      overlay.parentNode.removeChild(overlay);\n\n      document.body.classList.remove('zoom-overlay-transitioning');\n    }\n\n    return function (target) {\n      targetImage = target;\n      return { zoomImage, close, dispose };\n    };\n  })();\n\n  zoomListener().listen();\n}\n\nexport default Zoom;\n","/* eslint-disable import/prefer-default-export */\nexport const getObjectUrl = (encodedFile, fileType) => {\n  const b64 = unescape(encodedFile);\n  const sliceSize = 1024;\n  const byteCharacters = window.atob(b64);\n  const byteArrays = [];\n\n  for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n    const slice = byteCharacters.slice(offset, offset + sliceSize);\n\n    const byteNumbers = new Array(slice.length);\n    for (let i = 0; i < slice.length; i++) {\n      byteNumbers[i] = slice.charCodeAt(i);\n    }\n\n    const byteArray = new Uint8Array(byteNumbers);\n\n    byteArrays.push(byteArray);\n  }\n\n  if (byteArrays.length <= 0) {\n    return '';\n  }\n\n  const blob = new window.Blob(byteArrays, { type: fileType });\n\n  const url = window.URL.createObjectURL(blob);\n  return url;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Message from 'components/Message';\nimport Username from 'components/Username';\nimport Notice from 'components/Notice';\nimport Zoom from 'utils/ImageZoom';\nimport { getObjectUrl } from 'utils/file';\n\nimport T from 'components/T';\n\nconst FileDisplay = ({ activity: { fileType, encodedFile, fileName, username }, scrollToBottom }) => {\n  const zoomableImage = React.useRef(null);\n\n  const handleImageDisplay = () => {\n    Zoom(zoomableImage.current);\n    scrollToBottom();\n  };\n\n  if (fileType.match('image.*')) {\n    return (\n      <img\n        ref={zoomableImage}\n        className=\"image-transfer zoomable\"\n        src={`data:${fileType};base64,${encodedFile}`}\n        alt={`${fileName} from ${username}`}\n        onLoad={handleImageDisplay}\n      />\n    );\n  }\n  return null;\n};\n\nconst Activity = ({ activity, scrollToBottom }) => {\n  switch (activity.type) {\n    case 'TEXT_MESSAGE':\n      return <Message sender={activity.username} message={activity.text} timestamp={activity.timestamp} />;\n    case 'USER_ENTER':\n      return (\n        <Notice>\n          <div>\n            <T\n              data={{\n                username: <Username key={0} username={activity.username} />,\n              }}\n              path=\"userJoined\"\n            />\n          </div>\n        </Notice>\n      );\n    case 'USER_EXIT':\n      return (\n        <Notice>\n          <div>\n            <T\n              data={{\n                username: <Username key={0} username={activity.username} />,\n              }}\n              path=\"userLeft\"\n            />\n          </div>\n        </Notice>\n      );\n    case 'TOGGLE_LOCK_ROOM':\n      if (activity.locked) {\n        return (\n          <Notice>\n            <div>\n              <T\n                data={{\n                  username: <Username key={0} username={activity.username} />,\n                }}\n                path=\"lockedRoom\"\n              />\n            </div>\n          </Notice>\n        );\n      } else {\n        return (\n          <Notice>\n            <div>\n              <T\n                data={{\n                  username: <Username key={0} username={activity.username} />,\n                }}\n                path=\"unlockedRoom\"\n              />\n            </div>\n          </Notice>\n        );\n      }\n    case 'NOTICE':\n      return (\n        <Notice>\n          <div>{activity.message}</div>\n        </Notice>\n      );\n    case 'CHANGE_USERNAME':\n      return (\n        <Notice>\n          <div>\n            <T\n              data={{\n                oldUsername: <Username key={0} username={activity.currentUsername} />,\n                newUsername: <Username key={1} username={activity.newUsername} />,\n              }}\n              path=\"nameChange\"\n            />\n          </div>\n        </Notice>\n      );\n    case 'USER_ACTION':\n      return (\n        <Notice>\n          <div>\n            &#42; <Username username={activity.username} /> {activity.action}\n          </div>\n        </Notice>\n      );\n    case 'RECEIVE_FILE':\n      const downloadUrl = getObjectUrl(activity.encodedFile, activity.fileType);\n      return (\n        <div>\n          <T\n            data={{\n              username: <Username key={0} username={activity.username} />,\n            }}\n            path=\"userSentFile\"\n          />\n          &nbsp;\n          <a target=\"_blank\" href={downloadUrl} rel=\"noopener noreferrer\" download={activity.fileName}>\n            <T\n              data={{\n                filename: activity.fileName,\n              }}\n              path=\"downloadFile\"\n            />\n          </a>\n          <FileDisplay activity={activity} scrollToBottom={scrollToBottom} />\n        </div>\n      );\n    case 'SEND_FILE':\n      const url = getObjectUrl(activity.encodedFile, activity.fileType);\n      return (\n        <Notice>\n          <div>\n            <T\n              data={{\n                filename: (\n                  <a key={0} target=\"_blank\" href={url} rel=\"noopener noreferrer\" download={activity.fileName}>\n                    {activity.fileName}\n                  </a>\n                ),\n              }}\n              path=\"sentFile\"\n            />\n            &nbsp;\n          </div>\n          <FileDisplay activity={activity} scrollToBottom={scrollToBottom} />\n        </Notice>\n      );\n    default:\n      return false;\n  }\n};\n\nActivity.propTypes = {\n  activity: PropTypes.object.isRequired,\n  scrollToBottom: PropTypes.func.isRequired,\n};\n\nexport default Activity;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ChatInput from 'components/Chat';\nimport Activity from './Activity';\nimport T from 'components/T';\nimport { defer } from 'lodash';\n\nimport styles from './styles.module.scss';\n\nconst ActivityList = ({ activities, openModal }) => {\n  const [focusChat, setFocusChat] = React.useState(false);\n  const [scrolledToBottom, setScrolledToBottom] = React.useState(true);\n  const messageStream = React.useRef(null);\n  const activitiesList = React.useRef(null);\n\n  React.useEffect(() => {\n    const currentMessageStream = messageStream.current;\n\n    // Update scrolledToBottom state if we scroll the activity stream\n    const onScroll = () => {\n      const messageStreamHeight = messageStream.current.clientHeight;\n      const activitiesListHeight = activitiesList.current.clientHeight;\n\n      const bodyRect = document.body.getBoundingClientRect();\n      const elemRect = activitiesList.current.getBoundingClientRect();\n      const offset = elemRect.top - bodyRect.top;\n      const activitiesListYPos = offset;\n\n      const newScrolledToBottom = activitiesListHeight + (activitiesListYPos - 60) <= messageStreamHeight;\n      if (newScrolledToBottom) {\n        if (!scrolledToBottom) {\n          setScrolledToBottom(true);\n        }\n      } else if (scrolledToBottom) {\n        setScrolledToBottom(false);\n      }\n    };\n\n    currentMessageStream.addEventListener('scroll', onScroll);\n    return () => {\n      // Unbind event if component unmounted\n      currentMessageStream.removeEventListener('scroll', onScroll);\n    };\n  }, [scrolledToBottom]);\n\n  const scrollToBottomIfShould = React.useCallback(() => {\n    if (scrolledToBottom) {\n      messageStream.current.scrollTop = messageStream.current.scrollHeight;\n    }\n  }, [scrolledToBottom]);\n\n  React.useEffect(() => {\n    scrollToBottomIfShould(); // Only if activities.length bigger\n  }, [scrollToBottomIfShould, activities]);\n\n  const scrollToBottom = React.useCallback(() => {\n    messageStream.current.scrollTop = messageStream.current.scrollHeight;\n    setScrolledToBottom(true);\n  }, []);\n\n  const handleChatClick = () => {\n    setFocusChat(true);\n    defer(() => setFocusChat(false));\n  };\n\n  return (\n    <div className=\"main-chat\">\n      <div onClick={handleChatClick} className=\"message-stream h-100\" ref={messageStream} data-testid=\"main-div\">\n        <ul className=\"plain\" ref={activitiesList}>\n          <li>\n            <p className={styles.tos}>\n              <button className=\"btn btn-link\" onClick={() => openModal('About')}>\n                {' '}\n                <T path=\"agreement\" />\n              </button>\n            </p>\n          </li>\n          {activities.map((activity, index) => (\n            <li key={index} className={`activity-item ${activity.type}`}>\n              <Activity activity={activity} scrollToBottom={scrollToBottomIfShould} />\n            </li>\n          ))}\n        </ul>\n      </div>\n      <div className=\"chat-container\">\n        <ChatInput scrollToBottom={scrollToBottom} focusChat={focusChat} />\n      </div>\n    </div>\n  );\n};\n\nActivityList.propTypes = {\n  activities: PropTypes.array.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ActivityList;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Crypto from 'utils/crypto';\nimport { connect as connectSocket } from 'utils/socket';\nimport Nav from 'components/Nav';\nimport shortId from 'shortid';\nimport Connecting from 'components/Connecting';\nimport Modal from 'react-modal';\nimport About from 'components/About';\nimport Settings from 'components/Settings';\nimport Welcome from 'components/Welcome';\nimport RoomLocked from 'components/RoomLocked';\nimport { X, AlertCircle } from 'react-feather';\nimport classNames from 'classnames';\nimport ActivityList from './ActivityList';\n\nimport styles from './styles.module.scss';\n\nconst crypto = new Crypto();\n\nModal.setAppElement('#root');\n\nclass Home extends Component {\n  async componentWillMount() {\n    const roomId = encodeURI(this.props.match.params.roomId);\n\n    const user = await this.createUser();\n\n    const socket = connectSocket(roomId);\n\n    this.socket = socket;\n\n    socket.on('disconnect', () => {\n      this.props.toggleSocketConnected(false);\n    });\n\n    socket.on('connect', () => {\n      this.initApp(user);\n      this.props.toggleSocketConnected(true);\n    });\n\n    socket.on('USER_ENTER', payload => {\n      this.props.receiveUnencryptedMessage('USER_ENTER', payload);\n      this.props.sendEncryptedMessage({\n        type: 'ADD_USER',\n        payload: {\n          username: this.props.username,\n          publicKey: this.props.publicKey,\n          isOwner: this.props.iAmOwner,\n          id: this.props.userId,\n        },\n      });\n      if (payload.users.length === 1) {\n        this.props.openModal('Welcome');\n      }\n    });\n\n    socket.on('USER_EXIT', payload => {\n      this.props.receiveUnencryptedMessage('USER_EXIT', payload);\n    });\n\n    socket.on('ENCRYPTED_MESSAGE', payload => {\n      this.props.receiveEncryptedMessage(payload);\n    });\n\n    socket.on('TOGGLE_LOCK_ROOM', payload => {\n      this.props.receiveUnencryptedMessage('TOGGLE_LOCK_ROOM', payload);\n    });\n\n    socket.on('ROOM_LOCKED', payload => {\n      this.props.openModal('Room Locked');\n    });\n\n    window.addEventListener('beforeunload', evt => {\n      socket.emit('USER_DISCONNECT');\n    });\n  }\n\n  componentDidMount() {\n    this.bindEvents();\n  }\n\n  getModal() {\n    switch (this.props.modalComponent) {\n      case 'Connecting':\n        return {\n          component: <Connecting />,\n          title: 'Connecting...',\n          preventClose: true,\n        };\n      case 'About':\n        return {\n          component: <About roomId={this.props.roomId} />,\n          title: this.props.translations.aboutHeader,\n        };\n      case 'Settings':\n        return {\n          component: (\n            <Settings\n              roomId={this.props.roomId}\n              toggleSoundEnabled={this.props.toggleSoundEnabled}\n              soundIsEnabled={this.props.soundIsEnabled}\n              toggleNotificationEnabled={this.props.toggleNotificationEnabled}\n              toggleNotificationAllowed={this.props.toggleNotificationAllowed}\n              notificationIsEnabled={this.props.notificationIsEnabled}\n              notificationIsAllowed={this.props.notificationIsAllowed}\n              setLanguage={this.props.setLanguage}\n              language={this.props.language}\n              translations={this.props.translations}\n            />\n          ),\n          title: this.props.translations.settingsHeader,\n        };\n      case 'Welcome':\n        return {\n          component: (\n            <Welcome roomId={this.props.roomId} close={this.props.closeModal} translations={this.props.translations} />\n          ),\n          title: this.props.translations.welcomeHeader,\n        };\n      case 'Room Locked':\n        return {\n          component: <RoomLocked modalContent={this.props.translations.lockedRoomHeader} />,\n          title: this.props.translations.lockedRoomHeader,\n          preventClose: true,\n        };\n      default:\n        return {\n          component: null,\n          title: null,\n        };\n    }\n  }\n\n  initApp(user) {\n    this.socket.emit('USER_ENTER', {\n      publicKey: user.publicKey,\n    });\n  }\n\n  bindEvents() {\n    window.onfocus = () => {\n      this.props.toggleWindowFocus(true);\n    };\n\n    window.onblur = () => {\n      this.props.toggleWindowFocus(false);\n    };\n  }\n\n  createUser() {\n    return new Promise(async resolve => {\n      const username = shortId.generate();\n\n      const encryptDecryptKeys = await crypto.createEncryptDecryptKeys();\n      const exportedEncryptDecryptPrivateKey = await crypto.exportKey(encryptDecryptKeys.privateKey);\n      const exportedEncryptDecryptPublicKey = await crypto.exportKey(encryptDecryptKeys.publicKey);\n\n      this.props.createUser({\n        username,\n        publicKey: exportedEncryptDecryptPublicKey,\n        privateKey: exportedEncryptDecryptPrivateKey,\n      });\n\n      resolve({\n        publicKey: exportedEncryptDecryptPublicKey,\n      });\n    });\n  }\n\n  render() {\n    const modalOpts = this.getModal();\n    return (\n      <div className={classNames(styles.styles, 'h-100')}>\n        <div className=\"nav-container\">\n          {!this.props.socketConnected && (\n            <div className=\"alert-banner\">\n              <span className=\"icon\">\n                <AlertCircle size=\"15\" />\n              </span>{' '}\n              <span>Disconnected</span>\n            </div>\n          )}\n          <Nav\n            members={this.props.members}\n            roomId={this.props.roomId}\n            roomLocked={this.props.roomLocked}\n            toggleLockRoom={() => this.props.sendUnencryptedMessage('TOGGLE_LOCK_ROOM')}\n            openModal={this.props.openModal}\n            iAmOwner={this.props.iAmOwner}\n            userId={this.props.userId}\n            translations={this.props.translations}\n          />\n        </div>\n        <ActivityList openModal={this.props.openModal} activities={this.props.activities} />\n        <Modal\n          isOpen={Boolean(this.props.modalComponent)}\n          contentLabel=\"Modal\"\n          style={{ overlay: { zIndex: 10 } }}\n          className={{\n            base: 'react-modal-content',\n            afterOpen: 'react-modal-content_after-open',\n            beforeClose: 'react-modal-content_before-close',\n          }}\n          overlayClassName={{\n            base: 'react-modal-overlay',\n            afterOpen: 'react-modal-overlay_after-open',\n            beforeClose: 'react-modal-overlay_before-close',\n          }}\n          shouldCloseOnOverlayClick={!modalOpts.preventClose}\n          onRequestClose={this.props.closeModal}\n        >\n          <div className=\"react-modal-header\">\n            {!modalOpts.preventClose && (\n              <button onClick={this.props.closeModal} className=\"btn btn-link btn-plain close-modal\">\n                <X />\n              </button>\n            )}\n            <h3 className=\"react-modal-title\">{modalOpts.title}</h3>\n          </div>\n          <div className=\"react-modal-component\">{modalOpts.component}</div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nHome.defaultProps = {\n  modalComponent: null,\n};\n\nHome.propTypes = {\n  receiveEncryptedMessage: PropTypes.func.isRequired,\n  receiveUnencryptedMessage: PropTypes.func.isRequired,\n  createUser: PropTypes.func.isRequired,\n  activities: PropTypes.array.isRequired,\n  username: PropTypes.string.isRequired,\n  publicKey: PropTypes.object.isRequired,\n  members: PropTypes.array.isRequired,\n  match: PropTypes.object.isRequired,\n  roomId: PropTypes.string.isRequired,\n  roomLocked: PropTypes.bool.isRequired,\n  modalComponent: PropTypes.string,\n  openModal: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired,\n  iAmOwner: PropTypes.bool.isRequired,\n  userId: PropTypes.string.isRequired,\n  toggleWindowFocus: PropTypes.func.isRequired,\n  faviconCount: PropTypes.number.isRequired,\n  soundIsEnabled: PropTypes.bool.isRequired,\n  toggleSoundEnabled: PropTypes.func.isRequired,\n  notificationIsEnabled: PropTypes.bool.isRequired,\n  notificationIsAllowed: PropTypes.bool,\n  toggleNotificationEnabled: PropTypes.func.isRequired,\n  toggleNotificationAllowed: PropTypes.func.isRequired,\n  toggleSocketConnected: PropTypes.func.isRequired,\n  socketConnected: PropTypes.bool.isRequired,\n  sendUnencryptedMessage: PropTypes.func.isRequired,\n  sendEncryptedMessage: PropTypes.func.isRequired,\n};\n\nexport default Home;\n","import beepFile from 'audio/beep.mp3';\n\nconst showNotification = (title, message, avatarUrl) => {\n  const notifBody = {\n    body: message,\n    tag: 'darkwire',\n    silent: true, // we play our own sounds\n  };\n\n  const notification = new Notification(title, notifBody);\n  const handleVisibilityChange = () => {\n    if (document.visibilityState === 'visible') {\n      // The tab has become visible so clear the now-stale Notification.\n      notification.close();\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\n    }\n  };\n  // Focus window on click\n  notification.onclick = function () {\n    window.focus();\n    notification.close();\n  };\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n};\n\nexport const notify = (title, content) => {\n  if (!('Notification' in window)) {\n    alert('This browser does not support desktop notification');\n  }\n  // Let's check whether notification permissions have already been granted\n  else if (Notification.permission === 'granted') {\n    // If it's okay let's create a notification\n    showNotification(title, content);\n  }\n\n  // Otherwise, we need to ask the user for permission\n  else if (Notification.permission !== 'denied') {\n    Notification.requestPermission().then(function (permission) {\n      // If the user accepts, let's create a notification\n      if (permission === 'granted') {\n        showNotification(title, content);\n      }\n    });\n  }\n};\n\nexport const beep = (window.Audio && new window.Audio(beepFile)) || { play: () => {} };\n\nexport default { notify, beep };\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { notify, beep } from 'utils/notifications';\nimport Tinycon from 'tinycon';\nimport { toggleNotificationAllowed, toggleNotificationEnabled } from 'actions';\n\nconst mapStateToProps = state => {\n  return {\n    activities: state.activities.items,\n    unreadMessageCount: state.app.unreadMessageCount,\n    windowIsFocused: state.app.windowIsFocused,\n    soundIsEnabled: state.app.soundIsEnabled,\n    notificationIsEnabled: state.app.notificationIsEnabled,\n    notificationIsAllowed: state.app.notificationIsAllowed,\n    room: state.room,\n  };\n};\n\nconst mapDispatchToProps = {\n  toggleNotificationAllowed,\n  toggleNotificationEnabled,\n};\n\nconst WithNewMessageNotification = WrappedComponent => {\n  return connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  )(\n    class WithNotificationHOC extends Component {\n      state = { lastMessage: null, unreadMessageCount: 0 };\n\n      static getDerivedStateFromProps(nextProps, prevState) {\n        const {\n          room: { id: roomId },\n          activities,\n          notificationIsEnabled,\n          notificationIsAllowed,\n          soundIsEnabled,\n          unreadMessageCount,\n          windowIsFocused,\n        } = nextProps;\n\n        if (activities.length === 0) {\n          return null;\n        }\n\n        const lastMessage = activities[activities.length - 1];\n        const { username, text } = lastMessage;\n\n        if (lastMessage !== prevState.lastMessage && !windowIsFocused) {\n          const title = `Message from ${username} (${roomId})`;\n          if (notificationIsAllowed && notificationIsEnabled) notify(title, text);\n          if (soundIsEnabled) beep.play();\n        }\n\n        if (unreadMessageCount !== prevState.unreadMessageCount) {\n          Tinycon.setBubble(unreadMessageCount);\n        }\n\n        return { lastMessage, unreadMessageCount };\n      }\n\n      componentDidMount() {\n        switch (Notification.permission) {\n          case 'granted':\n            this.props.toggleNotificationAllowed(true);\n            this.props.toggleNotificationEnabled(true);\n            break;\n          case 'denied':\n            this.props.toggleNotificationAllowed(false);\n            break;\n          default:\n            this.props.toggleNotificationAllowed(null);\n        }\n      }\n\n      render() {\n        // Filter props\n        const {\n          room,\n          activities,\n          notificationIsEnabled,\n          motificationIsAllowed,\n          soundIsEnabled,\n          unreadMessageCount,\n          windowIsFocused,\n          toggleNotificationAllowed,\n          toggleNotificationnEnabled,\n          ...rest\n        } = this.props;\n        return <WrappedComponent {...rest} />;\n      }\n    },\n  );\n};\n\nexport default WithNewMessageNotification;\n","import Home from './Home';\nimport { connect } from 'react-redux';\nimport {\n  receiveEncryptedMessage,\n  createUser,\n  openModal,\n  closeModal,\n  toggleWindowFocus,\n  toggleSoundEnabled,\n  toggleNotificationEnabled,\n  toggleNotificationAllowed,\n  toggleSocketConnected,\n  receiveUnencryptedMessage,\n  sendUnencryptedMessage,\n  sendEncryptedMessage,\n  setLanguage,\n} from 'actions';\nimport WithNewMessageNotification from './WithNewMessageNotification';\n\nconst mapStateToProps = state => {\n  const me = state.room.members.find(m => m.id === state.user.id);\n\n  return {\n    activities: state.activities.items,\n    userId: state.user.id,\n    username: state.user.username,\n    publicKey: state.user.publicKey,\n    privateKey: state.user.privateKey,\n    members: state.room.members.filter(m => m.username && m.publicKey),\n    roomId: state.room.id,\n    roomLocked: state.room.isLocked,\n    modalComponent: state.app.modalComponent,\n    iAmOwner: Boolean(me && me.isOwner),\n    faviconCount: state.app.unreadMessageCount,\n    soundIsEnabled: state.app.soundIsEnabled,\n    notificationIsEnabled: state.app.notificationIsEnabled,\n    notificationIsAllowed: state.app.notificationIsAllowed,\n    socketConnected: state.app.socketConnected,\n    language: state.app.language,\n    translations: state.app.translations,\n  };\n};\n\nconst mapDispatchToProps = {\n  receiveEncryptedMessage,\n  createUser,\n  openModal,\n  closeModal,\n  toggleWindowFocus,\n  toggleSoundEnabled,\n  toggleNotificationEnabled,\n  toggleNotificationAllowed,\n  toggleSocketConnected,\n  receiveUnencryptedMessage,\n  sendUnencryptedMessage,\n  sendEncryptedMessage,\n  setLanguage,\n};\n\nexport default WithNewMessageNotification(connect(mapStateToProps, mapDispatchToProps)(Home));\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-simple-dropdown/styles/Dropdown.css';\nimport 'stylesheets/app.sass';\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js';\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport { Provider } from 'react-redux';\nimport configureStore from 'store';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport shortId from 'shortid';\nimport Home from 'components/Home';\nimport { hasTouchSupport } from './utils/dom';\n\nconst store = configureStore();\n\nexport default class Root extends Component {\n  componentWillMount() {\n    if (hasTouchSupport) {\n      document.body.classList.add('touch');\n    }\n  }\n\n  render() {\n    return (\n      <Provider store={store}>\n        <BrowserRouter>\n          <div className=\"h-100\">\n            <Switch>\n              <Route exact path=\"/\" render={() => <Redirect to={`/${shortId.generate()}`} />} />\n              <Route path=\"/:roomId\" component={Home} />\n            </Switch>\n          </div>\n        </BrowserRouter>\n      </Provider>\n    );\n  }\n}\n","/* istanbul ignore file */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/* istanbul ignore file */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Root from './root';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"links\":\"styles_links__2VU0R\",\"base\":\"styles_base__DypfL\"};"],"sourceRoot":""}